<!DOCTYPE html>
<html lang="en">
<head>
  <title>Tikip | Find TikTok Account Location & Profile Details</title>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <meta name="description" content="Instantly find any TikTok user's location and full profile details by username with our free tool. Get accurate stats and geolocation info fast.">
  <meta name="keywords" content="TikTok location finder, tiktok account look up, find tiktok account, tikip, tikip.us, tiktok search accounts, tiktok username tracker, Find TikTok Influencers by Location, Tiktok Location Scraper, بوت تحديد موقع تيك توك, كيف يمكنني تحديد موقع حسابي على تيك توك؟, كيف تعرف صاحب حساب التيك توك؟, كيفية العثور على معلومات حساب TikTok؟, How do I find local TikTok users, How do I find a specific TikTok user, How do I look up an account on TikTok, Find TikTok User ID, tiktok account location finder, tiktok location finder, tiktok account look up, tik tok account look up, Free Tiktok search tool, TikTok User Search Tool, account statistics for any TikTok user, tiktok profile lookup, tiktok lookup, tiktok account search, find TikTok user location, TikTok account location, TikTok username location, FAQ TikTok tool, About TikTok location tool, TikTok geolocation, TikTok user location search, Locate TikTok account by username, TikTok profile location, Free TikTok location finder, How to find TikTok user location, TikTok account details, TikTok stats checker">
  <meta name="author" content="@mo.or__">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://tikip.us/"/>

  <meta property="og:title" content="Tikip | Find TikTok Account Location & Profile Details">
  <meta property="og:description" content="Instantly find any TikTok user's location and full profile details by username with our free tool. Get accurate stats and geolocation info fast.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://tikip.us">
  <meta property="og:image" content="https://tikip.us/favicon.png">
  <meta property="og:site_name" content="TikTok Location Finder">


  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:creator" content="@tikip111">
  <meta name="twitter:title" content="Tikip | Find TikTok Account Location & Profile Details">
  <meta name="twitter:description" content="Instantly find any TikTok user's location and full profile details by username with our free tool. Get accurate stats and geolocation info fast.">
  <meta name="twitter:image" content="https://tikip.us/favicon.png">
  <meta content="Global" name="distribution"/>
  <meta content="General" name="rating"/>
  <meta content="en" http-equiv="content-language"/>
  <meta content="Turkey" name="geo.country"/>
  <meta content="en_US" property="og:locale"/>
  <meta content="en_UK" property="og:locale:alternate"/>
  <meta content="Turkey" name="geo.placename"/>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-HTPQL6DM82"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-HTPQL6DM82');
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6346556035067219"
     crossorigin="anonymous"></script>
  <meta name="google-site-verification" content="B3Dexm1A96g9Vj5uQ3LjOOsA-RxFqSwca_G0LrOchB0" />
  <meta name="monetag" content="caa90b8bc2e2b44cb2ca5427c3072138">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href="/favicon.png" type="image/png">

  <!-- Include the API configuration file BEFORE your main script -->
  <!-- Ensure 'api_config.js' is in the same directory as index.html, or adjust the path accordingly -->
  <script src="api_config.js"></script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "TikTok Account Location Finder",
    "url": "https://tikip.us/",
    "description": "A free online tool to find TikTok account locations and full profile details by username.",
    "creator": {
      "@type": "Person",
      "name": "@mo.or__"
    },
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://tikip.us/?username={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "TikTok Account Location Finder",
    "applicationCategory": "SocialNetworkAnalysisTool",
    "operatingSystem": "Web",
    "browserRequirements": "Requires a modern web browser with JavaScript enabled.",
    "description": "Free web-based tool to retrieve public TikTok user profile details, including estimated location, bio, follower counts, and video statistics by username.",
    "url": "https://tikip.us/",
    "author": {
      "@type": "Person",
      "name": "@mo.or__"
    },
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    }
  }
  </script>

  <style>
    :root {
      /* Moroccan Flag Inspired Colors */
      --primary-color: #c1272d; /* Moroccan Red */
      --primary-hover-color: #9e2025; /* Darker Red */
      --success-color: #006233; /* Moroccan Green */
      
      --secondary-color: #6c757d; /* Muted Gray */
      --danger-color: #dc3545; /* Red for error messages */
      --danger-hover-color: #c82333;
      --light-bg: #F8F9FA;
      --dark-bg: #1A1A1A; /* Darker background for dark mode */
      --light-card-bg: #FFFFFF;
      --dark-card-bg: #242424; /* Slightly lighter card for dark mode */
      --light-text-color: #212529;
      --dark-text-color: #EAEAEA;
      --light-text-secondary: #6c757d;
      --dark-text-secondary: #A0A0A0;
      --light-border-color: #DEE2E6;
      --dark-border-color: #444444;
      --input-bg-light: #FFFFFF;
      --input-bg-dark: #2C2C2C;
      --font-family-sans-serif: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      --box-shadow-sm: 0 .125rem .25rem rgba(0,0,0,.075);
      --box-shadow-md: 0 .5rem 1rem rgba(0,0,0,.1);
      --box-shadow-lg: 0 1rem 3rem rgba(0,0,0,.125);
      --border-radius: 0.5rem; /* Increased border radius for a softer look */
      --transition-speed: 0.2s;
    }

    /* Light Theme (Default) */
    body {
      background-color: var(--light-bg);
      color: var(--light-text-color);
    }
    
    .credit a { color: var(--primary-color); }
    input {
      background-color: var(--input-bg-light);
      border: 1px solid var(--light-border-color);
      color: var(--light-text-color);
      box-shadow: var(--box-shadow-sm);
    }
    input:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 0.2rem rgba(193, 39, 45, .25), var(--box-shadow-sm);
    }
    input::placeholder { color: var(--light-text-secondary); opacity: 0.7; }
    button {
      color: #FFFFFF;
      box-shadow: var(--box-shadow-sm);
      text-shadow: none;
    }
    #getResultsBtn { background: linear-gradient(145deg, var(--primary-color), var(--primary-hover-color)); }
    #getResultsBtn:hover, #getResultsBtn:focus { background: linear-gradient(145deg, var(--primary-hover-color), var(--primary-color)); box-shadow: var(--box-shadow-md); transform: translateY(-2px); }
    #supportBtn { background: linear-gradient(145deg, var(--success-color), #004f29); }
    #supportBtn:hover, #supportBtn:focus { background: linear-gradient(145deg, #004f29, var(--success-color)); box-shadow: var(--box-shadow-md); transform: translateY(-2px); }
    .profile-card {
      background-color: var(--light-card-bg);
      border: 1px solid var(--light-border-color);
      box-shadow: var(--box-shadow-md);
    }
    .profile-card-header {
      background-color: var(--light-bg);
      border-bottom: 1px solid var(--light-border-color);
    }
    .profile-photo-enhanced { border-color: var(--primary-color); }
    .profile-photo-placeholder { background-color: var(--light-bg); border-color: var(--light-border-color); }
    .profile-photo-placeholder svg { fill: var(--light-text-secondary); }
    .profile-nickname { color: var(--light-text-color); }
    .profile-username-display { color: var(--light-text-secondary); }
    .profile-info-row { border-bottom: 1px solid var(--light-border-color); }
    .info-label { color: var(--light-text-secondary); }
    .info-value { color: var(--light-text-color); }
    .bio-row .info-value.bio-text { color: var(--light-text-secondary); }
    .profile-card-footer { background-color: var(--light-bg); border-top: 1px solid var(--light-border-color); }
    .message.success-message { color: var(--success-color); background-color: #e6f0ec; border: 1px solid var(--success-color); }
    .message.error-message { color: var(--danger-color); background-color: #fdecea; border: 1px solid var(--danger-color); }
    .loading-spinner { border-top-color: var(--primary-color); }
    .about-section, .page-content > .about-section {
      background-color: var(--light-card-bg);
      border: 1px solid var(--light-border-color);
      box-shadow: var(--box-shadow-md);
    }
    .page-content h1 { color: var(--primary-color); }
    .about-section h2, .about-section h3 {
      font-size: clamp(1.1rem, 3.5vw, 1.25rem);
      margin-bottom: 0.75rem;
      font-weight: 600;
    }
    .about-section p { color: var(--light-text-secondary); }
    .dm-link { color: var(--primary-color); }
    
    .contact-form input, .contact-form textarea {
      background-color: var(--input-bg-light);
      border: 1px solid var(--light-border-color);
      color: var(--light-text-color);
      box-shadow: var(--box-shadow-sm);
    }
    .contact-form input:focus, .contact-form textarea:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 0.2rem rgba(193, 39, 45, .25), var(--box-shadow-sm);
    }
    .contact-form button { background: linear-gradient(145deg, var(--primary-color), var(--primary-hover-color)); }
    .contact-form button:hover, .contact-form button:focus { background: linear-gradient(145deg, var(--primary-hover-color), var(--primary-color)); }
    .back-btn { background: linear-gradient(145deg, var(--secondary-color), #5a6268); }
    .back-btn:hover, .back-btn:focus { background: linear-gradient(145deg, #5a6268, var(--secondary-color)); }

    /* Dark Theme */
    :root[data-theme="dark"] body {
      background-color: var(--dark-bg);
      color: var(--dark-text-color);
    }
    
    :root[data-theme="dark"] .credit a { color: var(--primary-color); }
    :root[data-theme="dark"] input {
      background-color: var(--input-bg-dark);
      border: 1px solid var(--dark-border-color);
      color: var(--dark-text-color);
    }
    :root[data-theme="dark"] input:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 0.2rem rgba(193, 39, 45, .25), var(--box-shadow-sm);
    }
    :root[data-theme="dark"] input::placeholder { color: var(--dark-text-secondary); opacity: 0.7; }
    :root[data-theme="dark"] .profile-card {
      background-color: var(--dark-card-bg);
      border: 1px solid var(--dark-border-color);
    }
    :root[data-theme="dark"] .profile-card-header {
      background-color: var(--dark-bg);
      border-bottom: 1px solid var(--dark-border-color);
    }
    :root[data-theme="dark"] .profile-photo-placeholder { background-color: var(--dark-bg); border-color: var(--dark-border-color); }
    :root[data-theme="dark"] .profile-photo-placeholder svg { fill: var(--dark-text-secondary); }
    :root[data-theme="dark"] .profile-nickname { color: var(--dark-text-color); }
    :root[data-theme="dark"] .profile-username-display { color: var(--dark-text-secondary); }
    :root[data-theme="dark"] .profile-info-row { border-bottom: 1px solid var(--dark-border-color); }
    :root[data-theme="dark"] .info-label { color: var(--dark-text-secondary); }
    :root[data-theme="dark"] .info-value { color: var(--dark-text-color); }
    :root[data-theme="dark"] .bio-row .info-value.bio-text { color: var(--dark-text-secondary); }
    :root[data-theme="dark"] .profile-card-footer { background-color: var(--dark-bg); border-top: 1px solid var(--dark-border-color); }
    :root[data-theme="dark"] .message.success-message { color: #b9e0c7; background-color: #003119; border: 1px solid var(--success-color); }
    :root[data-theme="dark"] .message.error-message { color: #f8d7da; background-color: #491c21; border: 1px solid var(--danger-color); }
    :root[data-theme="dark"] .loading-spinner { border-top-color: var(--primary-color); border-left-color: var(--dark-border-color); border-right-color: var(--dark-border-color); border-bottom-color: var(--dark-border-color); }
    :root[data-theme="dark"] .about-section, :root[data-theme="dark"] .page-content > .about-section {
      background-color: var(--dark-card-bg);
      border: 1px solid var(--dark-border-color);
    }
    :root[data-theme="dark"] .page-content h1 { color: var(--primary-color); }
    :root[data-theme="dark"] .about-section h2, :root[data-theme="dark"] .about-section h3 { color: var(--primary-color); }
    :root[data-theme="dark"] .about-section p { color: var(--dark-text-secondary); }
    :root[data-theme="dark"] .dm-link { color: var(--primary-color); }
    :root[data-theme="dark"] .contact-form input, :root[data-theme="dark"] .contact-form textarea {
      background-color: var(--input-bg-dark);
      border: 1px solid var(--dark-border-color);
      color: var(--dark-text-color);
    }
    :root[data-theme="dark"] .contact-form input:focus, :root[data-theme="dark"] .contact-form textarea:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 0.2rem rgba(193, 39, 45, .25), var(--box-shadow-sm);
    }
    :root[data-theme="dark"] footer {
        color: var(--dark-text-secondary);
    }

    /* Base Styles */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      font-size: 16px; 
      scroll-behavior: smooth;
    }

    body {
      font-family: var(--font-family-sans-serif);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      line-height: 1.6;
      -webkit-text-size-adjust: 100%;
      transition: background-color var(--transition-speed) ease-in-out, color var(--transition-speed) ease-in-out;
      padding: 1rem;
      padding-top: 80px; /* Add padding to prevent header overlap */
    }

    .container {
      width: 100%;
      max-width: 720px;
      padding: 0 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      flex-grow: 1; /* Allow container to grow */
    }

    .patriotic-text {
      font-size: clamp(1rem, 3vw, 1.25rem);
      text-align: center;
      margin-bottom: 0.75rem;
      font-weight: 600;
      width: 100%;
      padding: 0.5rem 0;
    }

    h1 {
      font-size: clamp(1.5rem, 5vw, 2rem);
      font-weight: 700;
      text-align: center;
      margin-bottom: 0.5rem;
      width: 100%;
    }

    .credit {
      font-size: clamp(0.75rem, 2.5vw, 0.875rem);
      text-align: center;
      margin-bottom: 1.5rem;
      width: 100%;
    }
    .credit a:hover { text-decoration: underline; }

    input, button, textarea {
      font-family: inherit;
      font-size: 1rem;
      border-radius: var(--border-radius);
      transition: all var(--transition-speed) ease-in-out;
    }

    input {
      width: 100%;
      padding: 0.75rem 1rem;
      margin-bottom: 1rem;
      -webkit-appearance: none;
      user-select: text;
    }

    button {
      width: 100%;
      padding: 0.75rem 1rem;
      font-weight: 600;
      cursor: pointer;
      margin-bottom: 0.75rem;
      border: none;
      -webkit-tap-highlight-color: transparent;
    }
    button:active {
      transform: translateY(1px) scale(0.98);
    }

    #result {
      margin-top: 2rem;
      min-height: 50px;
      width: 100%;
    }
    
    #backToMainBtn {
        margin-top: 1rem;
    }

    .profile-card {
      border-radius: var(--border-radius);
      overflow: hidden;
      width: 100%;
      margin-bottom: 1.5rem;
    }

    .profile-card-header {
      display: flex;
      align-items: center;
      padding: 1.25rem;
    }

    .profile-photo-enhanced, .profile-photo-placeholder {
      width: 72px;
      height: 72px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 1.25rem;
      border-width: 3px;
      border-style: solid;
      flex-shrink: 0;
    }
    .profile-photo-placeholder {
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .profile-photo-placeholder svg {
      width: 36px;
      height: 36px;
    }

    .profile-identity {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      min-width: 0;
      gap: 0.1rem;
    }
    .profile-nickname {
      font-size: clamp(1.25rem, 4vw, 1.5rem);
      font-weight: 600;
      margin: 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .profile-username-display {
      font-size: clamp(0.875rem, 3vw, 1rem);
      margin: 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .profile-card-body {
      padding: 0.75rem 1.25rem 1.25rem;
    }
    .profile-info-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      padding: 0.75rem 0;
      font-size: clamp(0.875rem, 3vw, 0.95rem);
    }
    .profile-info-row:last-child { border-bottom: none; }
    .info-label {
      font-weight: 500;
      margin-right: 1rem;
      flex-shrink: 0;
    }
    .info-value {
      text-align: right;
      word-break: break-word;
      flex-grow: 1;
      min-width: 0;
    }
    .bio-row {
      flex-direction: column;
      align-items: flex-start;
    }
    .bio-row .info-label { margin-bottom: 0.5rem; }
    .bio-row .info-value.bio-text {
      text-align: left;
      width: 100%;
      line-height: 1.5;
      font-size: clamp(0.8rem, 2.8vw, 0.9rem);
    }

    .profile-card-footer {
      padding: 1rem 1.25rem;
      text-align: center;
    }
    .message {
      padding: 0.75rem 1rem;
      border-radius: var(--border-radius);
      font-weight: 500;
      margin: 0;
      display: inline-block;
      box-shadow: var(--box-shadow-sm);
    }

    .loading-spinner-container {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
      text-align: center;
      width: 100%;
    }
    .loading-spinner {
      display: inline-block;
      width: 24px;
      height: 24px;
      border: 3px solid rgba(0,0,0,0.1);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
      margin-right: 0.75rem;
    }

    main {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-bottom: 2rem;
    }

    .about-section, .page-content > .about-section {
      margin-top: 2rem;
      padding: 1.25rem;
      border-radius: var(--border-radius);
      font-size: clamp(0.875rem, 3vw, 0.95rem);
      line-height: 1.7;
      width: 100%;
    }
    .page-content {
      display: none;
      width: 100%;
      margin-top: 2rem;
    }
    .page-content.active { display: block; }
    .page-content h1 {
      font-size: clamp(1.35rem, 4.5vw, 1.75rem);
      margin-bottom: 1.25rem;
    }

    .about-section p { margin-bottom: 0.75rem; }
    .about-section p:last-child { margin-bottom: 0; }
    .dm-link:hover { text-decoration: underline; }

    /* Header & Menu */
    .header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background-color: var(--light-card-bg);
        border-bottom: 1px solid var(--light-border-color);
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        z-index: 1000;
        padding: 0 1rem;
        /* "Rood" style - subtle texture */
        background-image: url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%239C92AC" fill-opacity="0.09"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
    }
    :root[data-theme="dark"] .header {
        background-color: var(--dark-card-bg);
        border-bottom: 1px solid var(--dark-border-color);
        background-image: url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.07"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
    }

    .header-container {
        max-width: 720px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 64px;
        position: relative; /* Added for title positioning */
    }
    
    .header-title {
        font-weight: 700;
        font-size: 1.5rem;
        color: var(--primary-color);
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        pointer-events: none; /* Make it non-interactive */
    }
    
    .menu-container {
        position: relative;
    }

    #menu-toggle {
        background: transparent;
        border: none;
        padding: 0.5rem;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: none;
        width: auto;
        margin: 0;
    }
    #menu-toggle svg {
        stroke: var(--light-text-color);
        transition: stroke var(--transition-speed);
    }
    #menu-toggle:hover svg {
        stroke: var(--primary-color);
    }
    :root[data-theme="dark"] #menu-toggle svg {
        stroke: var(--dark-text-color);
    }
    :root[data-theme="dark"] #menu-toggle:hover svg {
        stroke: var(--primary-color);
    }
    
    .theme-toggle {
      position: static;
      background-color: transparent;
      border: none;
      box-shadow: none;
      width: auto;
      margin: 0;
      padding: 0.5rem;
      cursor: pointer;
    }
    .theme-toggle svg {
      fill: var(--light-text-color);
      transition: fill var(--transition-speed);
      width: 22px;
      height: 22px;
    }
    .theme-toggle:hover svg {
        fill: var(--primary-color);
    }
    :root[data-theme="dark"] .theme-toggle svg {
      fill: var(--dark-text-color);
    }
    :root[data-theme="dark"] .theme-toggle:hover svg {
        fill: var(--primary-color);
    }


    .header-nav {
      display: flex;
      flex-direction: column;
      position: absolute;
      top: calc(100% + 10px);
      left: 0;
      transform: scaleY(0);
      transform-origin: top;
      background-color: var(--light-card-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow-lg);
      padding: 0.5rem;
      gap: 0.5rem;
      transition: transform 0.2s ease-out, opacity 0.2s ease-out, visibility 0.2s;
      visibility: hidden;
      opacity: 0;
      width: 250px;
      border: 1px solid var(--light-border-color);
    }

    .header-nav.active {
        transform: scaleY(1);
        visibility: visible;
        opacity: 1;
    }

    :root[data-theme="dark"] .header-nav {
        background-color: var(--dark-card-bg);
        border: 1px solid var(--dark-border-color);
    }
    
    .header-nav a {
      color: var(--light-text-color);
      text-decoration: none;
      padding: 0.75rem 1.5rem;
      border-radius: var(--border-radius);
      display: flex;
      align-items: center;
      gap: 0.75rem;
      transition: background-color var(--transition-speed);
      font-weight: 500;
    }
    :root[data-theme="dark"] .header-nav a {
        color: var(--dark-text-color);
    }

    .header-nav a:hover {
      background-color: rgba(0,0,0,0.05);
    }
    :root[data-theme="dark"] .header-nav a:hover {
        background-color: rgba(255,255,255,0.1);
    }

    .header-nav a svg {
        stroke: var(--primary-color);
    }
    
    .contact-form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-top: 1.25rem;
      width: 100%;
    }
    .contact-form input, .contact-form textarea {
      width: 100%;
      padding: 0.75rem 1rem;
      border-radius: var(--border-radius);
      -webkit-appearance: none;
      user-select: text;
    }
    .contact-form textarea {
      resize: vertical;
      min-height: 120px;
    }
    
    footer {
        text-align: center;
        padding: 1.5rem 1rem;
        margin-top: auto; /* Pushes footer to the bottom */
        font-size: 0.875rem;
        color: var(--light-text-secondary);
        width: 100%;
    }
    footer a {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 500;
    }
    footer a:hover {
        text-decoration: underline;
    }


    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      html { font-size: 15px; } 
      .container { padding: 0 0.75rem; }
      .header { padding: 0 0.75rem; }
    }

    @media (max-width: 480px) {
      html { font-size: 14px; } 
      body { padding: 0.5rem; padding-top: 70px; }
      .container { padding: 0 0.5rem; }
      .header { padding: 0 0.5rem; height: 56px; }
      .header-title { font-size: 1.25rem; }
      input, button, textarea { padding: 0.65rem 0.85rem; }
      .profile-card-header {
        padding: 1rem;
      }
      .profile-photo-enhanced, .profile-photo-placeholder {
        margin-right: 1rem; 
        width: 60px; 
        height: 60px;
      }
      .profile-photo-placeholder svg {
        width: 30px;
        height: 30px;
      }
      .profile-identity {
        align-items: flex-start;
      }
    }
    @media screen and (max-width: 767px) {
      input, select, textarea { font-size: 1rem; } 
    }
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-container">
        <div class="menu-container">
            <button id="menu-toggle" aria-label="Toggle Navigation Menu">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
            </button>
            <nav class="header-nav" id="header-nav" aria-label="Header navigation">
                <a href="#" onclick="showPage('main-page'); closeMenu(); return false;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                    Home
                </a>
                <a href="#" onclick="showPage('about-page'); closeMenu(); return false;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                    About Us
                </a>
                <a href="#" onclick="showPage('contact-page'); closeMenu(); return false;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                    Contact Us
                </a>
                <a href="#" onclick="showPage('privacy-page'); closeMenu(); return false;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                    Privacy Policy
                </a>
                <a href="#" onclick="showPage('terms-page'); closeMenu(); return false;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                    Terms of Service
                </a>
            </nav>
        </div>
        <div class="header-title">Tikip</div>
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1-8.313-12.454z"/>
            </svg>
        </button>
    </div>
  </header>

  <div class="container">
    <main>
        <div class="page-content active" id="main-page">
          <div id="main-content-wrapper">
            <div class="patriotic-text">❌🚬 | 🏋‍♀️✅</div>
            <h1>TikTok Account Location Finder</h1>
            <div class="credit">Created by <a href="https://www.tiktok.com/@mo.or__" target="_blank" rel="noopener">@_moro.__</a></div>

            <section aria-labelledby="search-tool-heading">
              <h2 id="search-tool-heading" class="sr-only">TikTok Profile Search Tool</h2>
              <input type="text" id="username" placeholder="Enter TikTok username (without @)" required aria-label="TikTok Username Input">
              <button id="getResultsBtn" aria-label="Search TikTok profile">Get Profile Details</button>
              <button id="supportBtn" aria-label="Support the creator">Support Our Work ❤</button>
            </section>
            
            <article class="about-section" aria-labelledby="about-tool-heading">
              <h2 id="about-tool-heading">About Our TikTok Location Finder Tool</h2>
              <p>This <strong>TikTok Location Finder</strong> is a powerful, free tool crafted to help you seamlessly perform a detailed <strong>TikTok profile lookup</strong>. Our service allows you to instantly <strong>find TikTok user location</strong> data and other valuable <strong>TikTok account details</strong> with just a username. Whether you're a researcher analyzing trends, a marketer seeking influencers, or simply curious, our <strong>TikTok stats checker</strong> provides comprehensive public profile information. You can use this tool to <strong>locate a TikTok account by username</strong> and explore public data, including their bio, follower counts, video statistics, and estimated <strong>TikTok geolocation</strong>.</p>
              <p><strong>Key Features:</strong> Utilize our <strong>free TikTok tool</strong> for a comprehensive <strong>TikTok profile lookup</strong>. It features an estimated country display with flags, full bio visibility, the latest follower and video statistics, a fully responsive design for all devices, and a user-friendly dark/light mode switcher for your comfort.</p>
            </article>

            <article class="about-section" aria-labelledby="about-creator-heading">
              <h2 id="about-creator-heading">About the Creator</h2>
              <p>I'm Moor, the developer behind this <strong>free TikTok location finder</strong>. As a Graphic Designer & Web Developer with over four years of experience, I am passionate about creating useful and accessible online tools for everyone. My goal is to build innovative solutions that help people navigate the digital world.</p>
              <p>You can connect with me on <a href="https://www.tiktok.com/@mo.or__" class="dm-link" target="_blank" rel="noopener">TikTok</a> or support my ongoing work to keep this tool free and updated!</p>
            </article>
          </div>
          
          <div id="result" aria-live="polite"></div>
          <button class="back-btn" id="backToMainBtn" style="display: none;">Back</button>

        </div>

        <section class="page-content" id="contact-page" aria-labelledby="contact-page-heading">
          <h1 id="contact-page-heading">Contact Us</h1>
          <article class="about-section"> <p>Have questions or feedback? Reach out to us using the form below or contact us directly via <a href="https://www.tiktok.com/@mo.or__" class="dm-link" target="_blank" rel="noopener">TikTok</a>.</p>
            <form class="contact-form" aria-labelledby="contact-page-heading">
              <input type="text" id="contact-name" placeholder="Your Name" required aria-label="Your Name">
              <input type="email" id="contact-email" placeholder="Your Email" required aria-label="Your Email">
              <textarea id="contact-message" placeholder="Your Message" required aria-label="Your Message"></textarea>
              <button type="submit" id="contact-submit">Send Message</button>
            </form>
          </article>
          <button class="back-btn" onclick="showPage('main-page')">Back to Home</button>
        </section>

        <section class="page-content" id="about-page" aria-labelledby="about-us-page-heading">
          <h1 id="about-us-page-heading">About Us</h1>
          <article class="about-section">
            <p>Welcome to the TikTok Account Location Finder, a free tool created by <a href="https://www.tiktok.com/@mo.or__" class="dm-link" target="_blank" rel="noopener">@_moro.__</a>.</p>
            <p>Our mission is to provide a user-friendly platform for researchers, marketers, and social media enthusiasts to access public TikTok profile data. This tool is designed with simplicity, accessibility, and responsiveness in mind, ensuring it works seamlessly across all devices.</p>
            <p>Built by Moor, a passionate Graphic Designer and Web Developer with over 4 years of experience, this project reflects a commitment to creating innovative tools for the community. Follow us on <a href="https://www.tiktok.com/@mo.or__" class="dm-link" target="_blank" rel="noopener">TikTok</a> for updates and more!</p>
          </article>
          <button class="back-btn" onclick="showPage('main-page')">Back to Home</button>
        </section>

        <section class="page-content" id="privacy-page" aria-labelledby="privacy-policy-page-heading">
          <h1 id="privacy-policy-page-heading">Privacy Policy</h1>
          <article class="about-section">
            <h3>1. Introduction</h3>
            <p>We value your privacy and are committed to protecting your personal information. This Privacy Policy explains how we collect, use, and safeguard your data when you use the TikTok Account Location Finder.</p>
            <h3>2. Information We Collect</h3>
            <p>We do not collect personal information unless you voluntarily provide it (e.g., via the contact form). The tool fetches publicly available TikTok profile data, which may include usernames, bios, follower counts, and other public metrics.</p>
            <h3>3. How We Use Your Information</h3>
            <p>Any information provided through the contact form (e.g., name, email, message) is used solely to respond to your inquiries. Public TikTok data is retrieved and displayed for informational purposes only.</p>
            <h3>4. Data Sharing</h3>
            <p>We do not sell, trade, or share your personal information with third parties, except as required by law. Public TikTok data is sourced via a third-party API and is not stored by us.</p>
            <h3>5. Cookies and Tracking</h3>
            <p>This site uses local storage to track page visits for analytics purposes (e.g., visit counter). No cookies or third-party trackers are used.</p>
            <h3>6. Contact Us</h3>
            <p>If you have any questions about this Privacy Policy, please contact us via <a href="https://www.tiktok.com/@mo.or__" class="dm-link" target="_blank" rel="noopener">TikTok</a> or the contact form.</p>
          </article>
          <button class="back-btn" onclick="showPage('main-page')">Back to Home</button>
        </section>

        <section class="page-content" id="terms-page" aria-labelledby="terms-of-service-page-heading">
          <h1 id="terms-of-service-page-heading">Terms of Service</h1>
          <article class="about-section">
            <h3>1. Acceptance of Terms</h3>
            <p>By using the TikTok Account Location Finder, you agree to these Terms of Service. If you do not agree, please do not use the tool.</p>
            <h3>2. Use of the Tool</h3>
            <p>This tool is for educational and research purposes only. You agree to use it responsibly and respect the privacy of others. Do not use the tool for illegal activities or to harm others.</p>
            <h3>3. Data Accuracy</h3>
            <p>The tool fetches publicly available TikTok data via a third-party API. We do not guarantee the accuracy or completeness of the data provided.</p>
            <h3>4. Intellectual Property</h3>
            <p>All content, design, and code on this site are the property of the creator (@_moro.__). Unauthorized copying or distribution is prohibited.</p>
            <h3>5. Limitation of Liability</h3>
            <p>We are not liable for any damages arising from the use of this tool. Use it at your own risk.</p>
            <h3>6. Changes to Terms</h3>
            <p>We may update these Terms of Service at any time. Continued use of the tool constitutes acceptance of the updated terms.</p>
            <h3>7. Contact Us</h3>
            <p>If you have any questions about these Terms, please contact us via <a href="https://www.tiktok.com/@mo.or__" class="dm-link" target="_blank" rel="noopener">TikTok</a> or the contact form.</p>
          </article>
          <button class="back-btn" onclick="showPage('main-page')">Back to Home</button>
        </section>
    </main>
    <footer>
        © 2025 Tikip. Created with ❤️ by <a href="https://www.tiktok.com/@mo.or__" target="_blank" rel="noopener">@mo.or__</a>
    </footer>
  </div>

  <script>
    // Base title for the website
    const baseTitle = "Tikip | Find TikTok Account Location & Profile Details";

    // ===== THEME TOGGLE FUNCTIONALITY ===== //
    const themeToggle = document.getElementById('themeToggle');
    const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');

    const currentTheme = localStorage.getItem('theme') || (prefersDarkScheme.matches ? 'dark' : 'light');
    document.documentElement.setAttribute('data-theme', currentTheme);
    updateThemeIcon(currentTheme);

    themeToggle.addEventListener('click', function() {
      let theme = document.documentElement.getAttribute('data-theme');
      theme = theme === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', theme);
      localStorage.setItem('theme', theme);
      updateThemeIcon(theme);
    });

    function updateThemeIcon(theme) {
      const icon = themeToggle.querySelector('svg');
      if (theme === 'dark') {
        icon.innerHTML = '<path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1-8.313-12.454z"/>'; // Moon
      } else {
        icon.innerHTML = '<path d="M12 18a6 6 0 1 1 0-12 6 6 0 1 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 1 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/>'; // Sun
      }
    }

    // ===== HEADER MENU ===== //
    const menuToggle = document.getElementById('menu-toggle');
    const headerNav = document.getElementById('header-nav');

    menuToggle.addEventListener('click', (e) => {
        e.stopPropagation();
        headerNav.classList.toggle('active');
    });

    function closeMenu() {
        headerNav.classList.remove('active');
    }

    // Close menu when clicking outside
    document.addEventListener('click', (e) => {
        if (!headerNav.contains(e.target) && !menuToggle.contains(e.target)) {
            closeMenu();
        }
    });

    // ===== PAGE NAVIGATION + DYNAMIC TITLE UPDATE ===== //
    function showPage(pageId) {
      document.querySelectorAll('.page-content').forEach(page => {
        page.classList.remove('active');
      });
      const targetPage = document.getElementById(pageId);
      if (targetPage) {
        targetPage.classList.add('active');
        const pageTitleElement = targetPage.querySelector('h1');
        if (pageTitleElement && pageId !== 'main-page') {
            document.title = pageTitleElement.textContent + " | Tikip";
        } else {
            document.title = baseTitle;
        }
      } else {
        console.warn(`Page with ID "${pageId}" not found. Defaulting to main page.`);
        const mainPage = document.getElementById('main-page');
        if(mainPage) mainPage.classList.add('active');
        document.title = baseTitle;
      }
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // ===== CONTACT FORM SUBMISSION ===== //
    const contactSubmitButton = document.getElementById('contact-submit');
    if (contactSubmitButton) {
        contactSubmitButton.addEventListener('click', function(e) {
          e.preventDefault();
          const nameInput = document.getElementById('contact-name');
          const emailInput = document.getElementById('contact-email');
          const messageInput = document.getElementById('contact-message');
          const name = nameInput ? nameInput.value.trim() : '';
          const email = emailInput ? emailInput.value.trim() : '';
          const message = messageInput ? messageInput.value.trim() : '';
          const resultDiv = document.getElementById('result'); 

          if (name && email && message) {
            if (resultDiv) {
                resultDiv.innerHTML = '<div class="message success-message">Thank you for your message! We will get back to you soon.</div>';
                resultDiv.style.display = 'block';
                setTimeout(() => {
                    if (resultDiv.contains(resultDiv.firstChild) && resultDiv.firstChild.classList.contains('success-message')) {
                        resultDiv.style.display = 'none';
                        resultDiv.innerHTML = '';
                    }
                }, 4000);
            }
            if(nameInput) nameInput.value = '';
            if(emailInput) emailInput.value = '';
            if(messageInput) messageInput.value = '';
          } else {
            if (resultDiv) {
                resultDiv.innerHTML = '<div class="message error-message">Please fill in all fields in the contact form.</div>';
                resultDiv.style.display = 'block';
                 setTimeout(() => {
                     if (resultDiv.contains(resultDiv.firstChild) && resultDiv.firstChild.classList.contains('error-message')) {
                        resultDiv.style.display = 'none';
                        resultDiv.innerHTML = '';
                     }
                }, 4000);
            }
          }
        });
    }

    // ===== COUNTRY FLAG MAPPING ===== //
    function getCountryFlag(country) {
      const flagMap = {
        'AD': '🇦🇩', 'Andorra': '🇦🇩', 'AE': '🇦🇪', 'United Arab Emirates': '🇦🇪', 'AF': '🇦🇫', 'Afghanistan': '🇦🇫',
        'AG': '🇦🇬', 'Antigua and Barbuda': '🇦🇬', 'AI': '🇦🇮', 'Anguilla': '🇦🇮', 'AL': '🇦🇱', 'Albania': '🇦🇱',
        'AM': '🇦🇲', 'Armenia': '🇦🇲', 'AO': '🇦🇴', 'Angola': '🇦🇴', 'AQ': '�🇶', 'Antarctica': '🇦🇶',
        'AR': '🇦🇷', 'Argentina': '🇦🇷', 'AS': '🇦🇸', 'American Samoa': '🇦🇸', 'AT': '🇦🇹', 'Austria': '🇦🇹',
        'AU': '🇦🇺', 'Australia': '🇦🇺', 'AW': '🇦🇼', 'Aruba': '🇦🇼', 'AX': '🇦🇽', 'Åland Islands': '🇦🇽',
        'AZ': '🇦🇿', 'Azerbaijan': '🇦🇿', 'BA': '🇧🇦', 'Bosnia and Herzegovina': '🇧🇦', 'BB': '🇧🇧', 'Barbados': '🇧🇧',
        'BD': '🇧🇩', 'Bangladesh': '🇧🇩', 'BE': '🇧🇪', 'Belgium': '🇧🇪', 'BF': '🇧🇫', 'Burkina Faso': '🇧🇫',
        'BG': '🇧🇬', 'Bulgaria': '🇧🇬', 'BH': '🇧🇭', 'Bahrain': '🇧🇭', 'BI': '🇧🇮', 'Burundi': '🇧🇮',
        'BJ': '🇧🇯', 'Benin': '🇧🇯', 'BL': '🇧🇱', 'Saint Barthélemy': '🇧🇱', 'BM': '🇧🇲', 'Bermuda': '🇧🇲',
        'BN': '🇧🇳', 'Brunei Darussalam': '🇧🇳', 'BO': '🇧🇴', 'Bolivia': '🇧🇴', 'BQ': '🇧🇶', 'Bonaire, Sint Eustatius and Saba': '🇧🇶',
        'BR': '🇧🇷', 'Brazil': '🇧🇷', 'BS': '🇧🇸', 'Bahamas': '🇧🇸', 'BT': '🇧🇹', 'Bhutan': '🇧🇹',
        'BV': '🇧🇻', 'Bouvet Island': '🇧🇻', 'BW': '🇧🇼', 'Botswana': '🇧🇼', 'BY': '🇧🇾', 'Belarus': '🇧🇾',
        'BZ': '🇧🇿', 'Belize': '🇧🇿', 'CA': '🇨🇦', 'Canada': '🇨🇦', 'CC': '🇨🇨', 'Cocos (Keeling) Islands': '🇨🇨',
        'CD': '🇨🇩', 'Congo, Democratic Republic of the': '🇨🇩', 'CF': '🇨🇫', 'Central African Republic': '🇨🇫', 'CG': '🇨🇬', 'Congo, Republic of the': '🇨🇬',
        'CH': '🇨🇭', 'Switzerland': '🇨🇭', 'CI': '🇨🇮', "Côte D'Ivoire": '🇨🇮', 'CK': '🇨🇰', 'Cook Islands': '🇨🇰',
        'CL': '🇨🇱', 'Chile': '🇨🇱', 'CM': '🇨🇲', 'Cameroon': '🇨🇲', 'CN': '🇨🇳', 'China': '🇨🇳',
        'CO': '🇨🇴', 'Colombia': '🇨🇴', 'CR': '🇨🇷', 'Costa Rica': '🇨🇷', 'CU': '🇨🇺', 'Cuba': '🇨🇺',
        'CV': '🇨🇻', 'Cape Verde': '🇨🇻', 'CW': '🇨🇼', 'Curaçao': '🇨🇼', 'CX': '🇨🇽', 'Christmas Island': '🇨🇽',
        'CY': '🇨🇾', 'Cyprus': '🇨🇾', 'CZ': '🇨🇿', 'Czech Republic': '🇨🇿', 'DE': '🇩🇪', 'Germany': '🇩🇪',
        'DJ': '🇩🇯', 'Djibouti': '🇩🇯', 'DK': '🇩🇰', 'Denmark': '🇩🇰', 'DM': '🇩🇲', 'Dominica': '🇩🇲',
        'DO': '🇩🇴', 'Dominican Republic': '🇩🇴', 'DZ': '🇩🇿', 'Algeria': '🇩🇿', 'EC': '🇪🇨', 'Ecuador': '🇪🇨',
        'EE': '🇪🇪', 'Estonia': '🇪🇪', 'EG': '🇪🇬', 'Egypt': '🇪🇬', 'EH': '🇪🇭', 'Western Sahara': '🇪🇭',
        'ER': '🇪🇷', 'Eritrea': '🇪🇷', 'ES': '🇪🇸', 'Spain': '🇪🇸', 'ET': '🇪🇹', 'Ethiopia': '🇪🇹',
        'FI': '🇫🇮', 'Finland': '🇫🇮', 'FJ': '🇫🇯', 'Fiji': '🇫🇯', 'FK': '🇫🇰', 'Falkland Islands (Malvinas)': '🇫🇰',
        'FM': '🇫🇲', 'Micronesia, Federated States of': '🇫🇲', 'FO': '🇫🇴', 'Faroe Islands': '🇫🇴', 'FR': '🇫🇷', 'France': '🇫🇷',
        'GA': '🇬🇦', 'Gabon': '🇬🇦', 'GB': '🇬🇧', 'United Kingdom': '🇬🇧', 'UK': '🇬🇧', 'GD': '🇬🇩', 'Grenada': '🇬🇩',
        'GE': '🇬🇪', 'Georgia': '🇬🇪', 'GF': '🇬🇫', 'French Guiana': '🇬🇫', 'GG': '🇬🇬', 'Guernsey': '🇬🇬',
        'GH': '🇬🇭', 'Ghana': '🇬🇭', 'GI': '🇬🇮', 'Gibraltar': '🇬🇮', 'GL': '🇬🇱', 'Greenland': '🇬🇱',
        'GM': '🇬🇲', 'Gambia': '🇬🇲', 'GN': '🇬🇳', 'Guinea': '🇬🇳', 'GP': '🇬🇵', 'Guadeloupe': '🇬🇵',
        'GQ': '🇬🇶', 'Equatorial Guinea': '🇬🇶', 'GR': '🇬🇷', 'Greece': '🇬🇷', 'GS': '🇬🇸', 'South Georgia and the South Sandwich Islands': '🇬🇸',
        'GT': '🇬🇹', 'Guatemala': '🇬🇹', 'GU': '🇬🇺', 'Guam': '🇬🇺', 'GW': '🇬🇼', 'Guinea-Bissau': '🇬🇼',
        'GY': '🇬🇾', 'Guyana': '🇬🇾', 'HK': '🇭🇰', 'Hong Kong': '🇭🇰', 'HM': '🇭🇲', 'Heard Island and McDonald Islands': '🇭🇲',
        'HN': '🇭🇳', 'Honduras': '🇭🇳', 'HR': '🇭🇷', 'Croatia': '🇭🇷', 'HT': '🇭🇹', 'Haiti': '🇭🇹',
        'HU': '🇭🇺', 'Hungary': '🇭🇺', 'ID': '🇮🇩', 'Indonesia': '🇮🇩', 'IE': '🇮🇪', 'Ireland': '🇮🇪',
        'IL': '🇮🇱', 'Israel': '🇮🇱', 'IM': '🇮🇲', 'Isle of Man': '🇮🇲', 'IN': '🇮🇳', 'India': '🇮🇳',
        'IO': '🇮🇴', 'British Indian Ocean Territory': '🇮🇴', 'IQ': '🇮🇶', 'Iraq': '🇮🇶', 'IR': '🇮🇷', 'Iran, Islamic Republic of': '🇮🇷',
        'IS': '🇮🇸', 'Iceland': '🇮🇸', 'IT': '🇮🇹', 'Italy': '🇮🇹', 'JE': '🇯🇪', 'Jersey': '🇯🇪',
        'JM': '🇯🇲', 'Jamaica': '🇯🇲',
        'JO': '🇯🇴', 'Jordan': '🇯🇴', 'JP': '🇯🇵', 'Japan': '🇯🇵', 'KE': '🇰🇪', 'Kenya': '🇰🇪',
        'KG': '🇰🇬', 'Kyrgyzstan': '🇰🇬', 'KH': '🇰🇭', 'Cambodia': '🇰🇭', 'KI': '🇰🇮', 'Kiribati': '🇰🇮',
        'KM': '🇰🇲', 'Comoros': '🇰🇲', 'KN': '🇰🇳', 'Saint Kitts and Nevis': '🇰🇳', 'KP': '🇰🇵', "Korea, Democratic People's Republic of": '🇰🇵',
        'KR': '🇰🇷', 'Korea, Republic of': '🇰🇷',
        'KW': '🇰🇼', 'Kuwait': '🇰🇼', 'KY': '🇰🇾', 'Cayman Islands': '🇰🇾',
        'KZ': '🇰🇿', 'Kazakhstan': '🇰🇿', 'LA': '🇱🇦', "Lao People's Democratic Republic": '🇱🇦', 'LB': '🇱🇧', 'Lebanon': '🇱🇧',
        'LC': '🇱🇨', 'Saint Lucia': '🇱🇨', 'LI': '🇱🇮', 'Liechtenstein': '🇱🇮', 'LK': '🇱🇰', 'Sri Lanka': '🇱🇰',
        'LR': '🇱🇷', 'Liberia': '🇱🇷', 'LS': '🇱🇸', 'Lesotho': '🇱🇸', 'LT': '🇱🇹', 'Lithuania': '🇱🇹',
        'LU': '🇱🇺', 'Luxembourg': '🇱🇺', 'LV': '🇱🇻', 'Latvia': '🇱🇻', 'LY': '🇱🇾', 'Libya': '🇱🇾',
        'MA': '🇲🇦', 'Morocco': '🇲🇦', 'MC': '🇲🇨', 'Monaco': '🇲🇨', 'MD': '🇲🇩', 'Moldova, Republic of': '🇲🇩',
        'ME': '🇲🇪', 'Montenegro': '🇲🇪', 'MF': '🇲🇫', 'Saint Martin (French part)': '🇲🇫', 'MG': '🇲🇬', 'Madagascar': '🇲🇬',
        'MH': '🇲🇭', 'Marshall Islands': '🇲🇭', 'MK': '🇲🇰', 'North Macedonia': '🇲🇰', 'ML': '🇲🇱', 'Mali': '🇲🇱',
        'MM': '🇲🇲', 'Myanmar': '🇲🇲', 'MN': '🇲🇳', 'Mongolia': '🇲🇳', 'MO': '🇲🇴', 'Macao': '🇲🇴',
        'MP': '🇲🇵', 'Northern Mariana Islands': '🇲🇵', 'MQ': '🇲🇶', 'Martinique': '🇲🇶', 'MR': '🇲🇷', 'Mauritania': '🇲🇷',
        'MS': '🇲🇸', 'Montserrat': '🇲🇸', 'MT': '🇲🇹', 'Malta': '🇲🇹', 'MU': '🇲🇺', 'Mauritius': '🇲🇺',
        'MV': '🇲🇻', 'Maldives': '🇲🇻', 'MW': '🇲🇼', 'Malawi': '🇲🇼', 'MX': '🇲🇽', 'Mexico': '🇲🇽',
        'MY': '🇲🇾', 'Malaysia': '🇲🇾', 'MZ': '🇲🇿', 'Mozambique': '🇲🇿', 'NA': '🇳🇦', 'Namibia': '🇳🇦',
        'NC': '🇳🇨', 'New Caledonia': '🇳🇨', 'NE': '🇳🇪', 'Niger': '🇳🇪', 'NF': '🇳🇫', 'Norfolk Island': '🇳🇫',
        'NG': '🇳🇬', 'Nigeria': '🇳🇬', 'NI': '🇳🇮', 'Nicaragua': '🇳🇮', 'NL': '🇳🇱', 'Netherlands': '🇳🇱',
        'NO': '🇳🇴', 'Norway': '🇳🇴', 'NP': '🇳🇵', 'Nepal': '🇳🇵', 'NR': '🇳🇷', 'Nauru': '🇳🇷',
        'NU': '🇳🇺', 'Niue': '🇳🇺', 'NZ': '🇳🇿', 'New Zealand': '🇳🇿', 'OM': '🇴🇲', 'Oman': '🇴🇲',
        'PA': '🇵🇦', 'Panama': '🇵🇦', 'PE': '🇵🇪', 'Peru': '🇵🇪', 'PF': '🇵🇫', 'French Polynesia': '🇵🇫',
        'PG': '🇵🇬', 'Papua New Guinea': '🇵🇬', 'PH': '🇵🇭', 'Philippines': '🇵🇭', 'PK': '🇵🇰', 'Pakistan': '🇵🇰',
        'PL': '🇵🇱', 'Poland': '🇵🇱', 'PM': '🇵🇲', 'Saint Pierre and Miquelon': '🇵🇲', 'PN': '🇵🇳', 'Pitcairn': '🇵🇳',
        'PR': '🇵🇷', 'Puerto Rico': '🇵🇷', 'PS': '🇵🇸', 'Palestine, State of': '🇵🇸', 'PT': '🇵🇹', 'Portugal': '🇵🇹',
        'PW': '🇵🇼', 'Palau': '🇵🇼', 'PY': '🇵🇾', 'Paraguay': '🇵🇾', 'QA': '🇶🇦', 'Qatar': '🇶🇦',
        'RE': '🇷🇪', 'Réunion': '🇷🇪', 'RO': '🇷🇴', 'Romania': '🇷🇴', 'RS': '🇷🇸', 'Serbia': '🇷🇸',
        'RU': '🇷🇺', 'Russian Federation': '🇷🇺', 'Russia': '🇷🇺', 'RW': '🇷🇼', 'Rwanda': '🇷🇼', 'SA': '🇸🇦', 'Saudi Arabia': '🇸🇦',
        'SB': '🇸🇧', 'Solomon Islands': '🇸🇧', 'SC': '🇸🇨', 'Seychelles': '🇸🇨', 'SD': '🇸🇩', 'Sudan': '🇸🇩',
        'SE': '🇸🇪', 'Sweden': '🇸🇪', 'SG': '🇸🇬', 'Singapore': '🇸🇬', 'SH': '🇸🇭', 'Saint Helena, Ascension and Tristan da Cunha': '🇸🇭',
        'SI': '🇸🇮', 'Slovenia': '🇸🇮', 'SJ': '🇸🇯', 'Svalbard and Jan Mayen': '🇸🇯', 'SK': '🇸🇰', 'Slovakia': '🇸🇰',
        'SL': '🇸🇱', 'Sierra Leone': '🇸🇱', 'SM': '🇸🇲', 'San Marino': '🇸🇲', 'SN': '🇸🇳', 'Senegal': '🇸🇳',
        'SO': '🇸🇴', 'Somalia': '🇸🇴', 'SR': '🇸🇷', 'Suriname': '🇸🇷', 'SS': '🇸🇸', 'South Sudan': '🇸🇸',
        'ST': '🇸🇹', 'Sao Tome and Principe': '🇸🇹', 'SV': '🇸🇻', 'El Salvador': '🇸🇻', 'SX': '🇸🇽', 'Sint Maarten (Dutch part)': '🇸🇽',
        'SY': '🇸🇾', 'Syrian Arab Republic': '🇸🇾', 'SZ': '🇸🇿', 'Eswatini': '🇸🇿', 'TC': '🇹🇨', 'Turks and Caicos Islands': '🇹🇨',
        'TD': '🇹🇩', 'Chad': '🇹🇩', 'TF': '🇹🇫', 'French Southern Territories': '🇹🇫', 'TG': '🇹🇬', 'Togo': '🇹🇬',
        'TH': '🇹🇭', 'Thailand': '🇹🇭', 'TJ': '🇹🇯', 'Tajikistan': '🇹🇯', 'TK': '🇹🇰', 'Tokelau': '🇹🇰',
        'TL': '🇹🇱', 'Timor-Leste': '🇹🇱', 'TM': '🇹🇲', 'Turkmenistan': '🇹🇲', 'TN': '🇹🇳', 'Tunisia': '🇹🇳',
        'TO': '🇹🇴', 'Tonga': '🇹🇴', 'TR': '🇹🇷', 'Turkey': '🇹🇷', 'TT': '🇹🇹', 'Trinidad and Tobago': '🇹🇹',
        'TV': '🇹🇻', 'Tuvalu': '🇹🇻', 'TW': '🇹🇼', 'Taiwan, Province of China': '🇹🇼', 'TZ': '🇹🇿', 'Tanzania, United Republic of': '🇹🇿',
        'UA': '🇺🇦', 'Ukraine': '🇺🇦', 'UG': '🇺🇬', 'Uganda': '🇺🇬', 'UM': '🇺🇲', 'United States Minor Outlying Islands': '🇺🇲',
        'US': '🇺🇸', 'United States of America': '🇺🇸', 'USA': '🇺🇸', 'UY': '🇺🇾', 'Uruguay': '🇺🇾', 'UZ': '🇺🇿', 'Uzbekistan': '🇺🇿',
        'VA': '🇻🇦', 'Holy See (Vatican City State)': '🇻🇦', 'VC': '🇻🇨', 'Saint Vincent and the Grenadines': '🇻🇨', 'VE': '🇻🇪', 'Venezuela, Bolivarian Republic of': '🇻🇪',
        'VG': '🇻🇬', 'Virgin Islands, British': '🇻🇬', 'VI': '🇻🇮', 'Virgin Islands, U.S.': '🇻🇮', 'VN': '🇻🇳', 'Viet Nam': '🇻🇳',
        'VU': '🇻🇺', 'Vanuatu': '🇻🇺', 'WF': '🇼🇫', 'Wallis and Futuna': '🇼🇫', 'WS': '🇼🇸', 'Samoa': '🇼🇸',
        'XK': '🇽🇰', 'Kosovo': '🇽🇰', 'YE': '🇾🇪', 'Yemen': '🇾🇪', 'YT': '🇾🇹', 'Mayotte': '🇾🇹',
        'ZA': '🇿🇦', 'South Africa': '🇿🇦', 'ZM': '🇿🇲', 'Zambia': '🇿🇲', 'ZW': '🇿🇼', 'Zimbabwe': '🇿🇼'
      };
      if (!country) return '🌐';
      const normalizedCountry = String(country).trim();
      for (const key in flagMap) {
        if (key.toLowerCase() === normalizedCountry.toLowerCase()) return flagMap[key];
      }
      for (const key in flagMap) {
        if (key.length > 3 && normalizedCountry.toLowerCase().includes(key.toLowerCase())) return flagMap[key];
      }
      return '🌐';
    }

    // ===== TIKTOK USER LOOKUP FUNCTIONALITY ===== //
    const getResultsBtn = document.getElementById('getResultsBtn');
    const supportBtn = document.getElementById('supportBtn');
    const backToMainBtn = document.getElementById('backToMainBtn');
    const mainContentWrapper = document.getElementById('main-content-wrapper');


    if (getResultsBtn) getResultsBtn.addEventListener('click', lookupUser);
    if (supportBtn) supportBtn.addEventListener('click', () => window.open('https://ko-fi.com/moroccan', '_blank'));
    if (backToMainBtn) backToMainBtn.addEventListener('click', showMainScreen);

    function showMainScreen() {
        if (mainContentWrapper) mainContentWrapper.style.display = 'block';
        if (backToMainBtn) backToMainBtn.style.display = 'none';
        const resultDiv = document.getElementById('result');
        if(resultDiv) resultDiv.innerHTML = '';
    }

    function lookupUser() {
      const usernameInput = document.getElementById('username');
      const resultDiv = document.getElementById('result');
      const currentGetResultsBtn = document.getElementById('getResultsBtn');
      const username = usernameInput ? usernameInput.value.trim() : '';

      if (!username) {
        if(resultDiv) {
            resultDiv.innerHTML = '<div class="message error-message">Please enter a valid TikTok username.</div>';
            resultDiv.style.display = 'block';
        }
        return;
      }
      
      if (mainContentWrapper) mainContentWrapper.style.display = 'none';
      if (backToMainBtn) backToMainBtn.style.display = 'block';

      if (typeof API_CONFIG === 'undefined' || typeof getApiUrl === 'undefined') {
        console.error("API configuration (api_config.js) is not loaded or is incorrect.");
        if(resultDiv) {
            resultDiv.innerHTML = '<div class="message error-message">API configuration error. Please ensure api_config.js is present and correct.</div>';
            resultDiv.style.display = 'block';
        }
        showMainScreen();
        return;
      }

      if(currentGetResultsBtn) currentGetResultsBtn.disabled = true;
      if(resultDiv) {
          resultDiv.innerHTML = '<div class="loading-spinner-container"><div class="loading-spinner"></div> Loading profile data...</div>';
          resultDiv.style.display = 'block';
      }

      const apiUrl = getApiUrl(username);

      if (!apiUrl) {
        console.error("Failed to construct API URL. Check api_config.js.");
         if(resultDiv) {
            resultDiv.innerHTML = '<div class="message error-message">Could not construct API URL. Configuration might be missing.</div>';
            resultDiv.style.display = 'block';
        }
        if(currentGetResultsBtn) currentGetResultsBtn.disabled = false;
        return;
      }
      
      fetch(apiUrl)
        .then(response => {
          if (!response.ok) {
            return response.text().then(text => {
                let errorMsg = `API request failed with status ${response.status}`;
                if (response.status === 429) errorMsg = 'Rate limit exceeded. Please try again later.';
                else if (response.status === 404) errorMsg = 'User not found or API endpoint issue.';
                else if (response.status === 503 && text.toLowerCase().includes("corsproxy.io")) errorMsg = 'The CORS proxy service might be temporarily unavailable or rate-limiting. Please try again shortly.';
                else {
                    try { const errData = JSON.parse(text); errorMsg = errData.message || errData.error || text || errorMsg; }
                    catch (e) { errorMsg = text || errorMsg; }
                }
                throw new Error(errorMsg);
            });
          }
          return response.json();
        })
        .then(data => {
          const apiProfile = data.profile || data;

          if (apiProfile && typeof apiProfile === 'object' && Object.keys(apiProfile).length > 0) {
            const sanitize = (str) => {
                if (typeof str !== 'string') return str === null || typeof str === 'undefined' ? '' : String(str);
                const temp = document.createElement('div');
                temp.textContent = str;
                return temp.innerHTML;
            };

            let foundProfilePhotoUrl = '';
            const avatarKeys = ['Profile Photo', 'Avatar URL', 'avatar_url', 'avatarUrl', 'picture', 'profileImageUrl', 'profile_pic_url', 'profile_image_url', 'avatar', 'Avatar', 'profile_picture', 'photo_url', 'user_avatar'];
            for (const key of avatarKeys) {
                if (apiProfile[key] && typeof apiProfile[key] === 'string' && apiProfile[key].trim() !== '') {
                    foundProfilePhotoUrl = apiProfile[key];
                    break;
                }
            }
            const profilePhoto = foundProfilePhotoUrl ? sanitize(foundProfilePhotoUrl) : '';

            let rawUsernameFromAPI = apiProfile.Username || apiProfile.username || apiProfile.user_name || apiProfile.unique_id || username;
            if (typeof rawUsernameFromAPI === 'string' && rawUsernameFromAPI.startsWith('@')) {
                rawUsernameFromAPI = rawUsernameFromAPI.substring(1);
            }
            const displayUsername = sanitize(rawUsernameFromAPI);
            const displayNickname = apiProfile.Nickname || apiProfile.nickname || apiProfile.name || apiProfile.display_name || apiProfile.user_display_name || displayUsername;

            let profileDetailsHtml = '';
            for (const key in apiProfile) {
                if (Object.hasOwnProperty.call(apiProfile, key)) {
                    if (['Nickname', 'nickname', 'Username', 'username', 'name', 'display_name', 'user_name', 'unique_id', 'user_display_name', ...avatarKeys].includes(key) ||
                        apiProfile[key] == null || String(apiProfile[key]).trim() === '') {
                        continue;
                    }

                    let value = apiProfile[key];
                    let displayKey = key.replace(/([A-Z])/g, ' $1').replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase()).trim();
                    
                    if (displayKey === 'Sec U I D' || displayKey === 'Username Last Modified') {
                        continue;
                    }

                    if (['Bio', 'bio', 'description', 'Signature', 'bio_text', 'user_bio'].includes(key)) {
                        value = sanitize(String(value)).replace(/\n/g, '<br>');
                         profileDetailsHtml += `<div class="profile-info-row bio-row"><span class="info-label">${sanitize(displayKey)}:</span><p class="info-value bio-text">${value || 'N/A'}</p></div>`;
                    } else if (['Country', 'country', 'region', 'Location', 'country_code', 'user_region'].includes(key)) {
                        value = sanitize(String(value));
                        profileDetailsHtml += `<div class="profile-info-row"><span class="info-label">${sanitize(displayKey)}:</span><span class="info-value">${getCountryFlag(value)} ${value || 'N/A'}</span></div>`;
                    } else if (typeof value === 'number' && (key.toLowerCase().includes('follower') || key.toLowerCase().includes('following') || key.toLowerCase().includes('like') || key.toLowerCase().includes('video') || key.toLowerCase().includes('count') || key.toLowerCase().includes('digg'))) {
                        value = Number(value).toLocaleString();
                         profileDetailsHtml += `<div class="profile-info-row"><span class="info-label">${sanitize(displayKey)}:</span><span class="info-value">${value}</span></div>`;
                    } else if (typeof value === 'boolean') {
                        value = value ? 'Yes' : 'No';
                         profileDetailsHtml += `<div class="profile-info-row"><span class="info-label">${sanitize(displayKey)}:</span><span class="info-value">${value}</span></div>`;
                    } else if (typeof value === 'string' && (value.startsWith('http://') || value.startsWith('https://'))) {
                        profileDetailsHtml += `<div class="profile-info-row"><span class="info-label">${sanitize(displayKey)}:</span><span class="info-value"><a href="${sanitize(value)}" target="_blank" rel="noopener noreferrer" class="dm-link">${sanitize(value)}</a></span></div>`;
                    } else {
                         profileDetailsHtml += `<div class="profile-info-row"><span class="info-label">${sanitize(displayKey)}:</span><span class="info-value">${sanitize(String(value)) || 'N/A'}</span></div>`;
                    }
                }
            }
            
            if (profileDetailsHtml.trim() === '') {
                 if(resultDiv) resultDiv.innerHTML = `<div class="message error-message">No displayable profile data found for '${sanitize(username)}'.</div>`;
                 return;
            }

            let formattedData = `
              <article class="profile-card" aria-labelledby="profile-card-heading-${displayUsername}">
                <h2 id="profile-card-heading-${displayUsername}" class="sr-only">Profile details for ${sanitize(displayNickname)}</h2>
                <div class="profile-card-header">
                  ${profilePhoto ? `<img src="${profilePhoto}" alt="Profile photo of ${sanitize(displayNickname)}" class="profile-photo-enhanced" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">` : ''}
                  <div class="profile-photo-placeholder" style="${profilePhoto ? 'display:none;' : 'display:flex;'}">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                  </div>
                  <div class="profile-identity">
                    <h3 class="profile-nickname">${sanitize(displayNickname)}</h3>
                    <p class="profile-username-display">${sanitize(displayUsername).startsWith('@') ? sanitize(displayUsername) : '@' + sanitize(displayUsername)}</p>
                  </div>
                </div>
                <div class="profile-card-body">${profileDetailsHtml}</div>
                <div class="profile-card-footer"><span class="message success-message">Profile data retrieved successfully!</span></div>
              </article>`;
            if(resultDiv) resultDiv.innerHTML = formattedData;
          } else {
            if(resultDiv) resultDiv.innerHTML = `<div class="message error-message">Profile data not found for '${sanitize(username)}'.</div>`;
          }
        })
        .catch(error => {
          if(resultDiv) resultDiv.innerHTML = `<div class="message error-message">Error: ${error.message}.</div>`;
        })
        .finally(() => {
          if(currentGetResultsBtn) currentGetResultsBtn.disabled = false;
        });
    }

    const usernameInputGlobal = document.getElementById('username');
    if (usernameInputGlobal) {
      usernameInputGlobal.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          lookupUser();
        }
      });
    }
  </script>
</body>
</html>
