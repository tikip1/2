<!DOCTYPE html>
<html lang="en">
<head>
  <title>TikTok Account Location Finder | Full Profile Details</title>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <meta name="description" content="Our TikTok Location Finder helps you discover TikTok account locations by username. Get full profile details, stats, and answers to FAQ about our tool. Free, accurate, and easy to use!">
  <meta name="keywords" content="TikTok location finder, tiktok profile lookup, tiktok lookup, tiktok account search, find TikTok user location, TikTok account location, TikTok username location, FAQ TikTok tool, About TikTok location tool, TikTok geolocation, TikTok user location search, Locate TikTok account by username, TikTok profile location, Free TikTok location finder, How to find TikTok user location, TikTok account details, TikTok stats checker">
  <meta name="author" content="@mo.or__">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://tikip.us/"/>

  <meta property="og:title" content="TikTok Account Location Finder | Full Profile Details & FAQ">
  <meta property="og:description" content="Use our free TikTok Location Finder to get full profile details, including location, by username. Learn more about the tool and find answers in our FAQ.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://tikip.us">
  <meta property="og:image" content="https://tikip.us/favicon.png"> 
  <meta property="og:site_name" content="TikTok Location Finder">


  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:creator" content="@mo.or__">
  <meta name="twitter:title" content="TikTok Account Location Finder | Full Profile Details & FAQ">
  <meta name="twitter:description" content="Free tool to find TikTok user locations and full profile details by username. Check out our FAQ and learn more about how it works.">
  <meta name="twitter:image" content="https://tikip.us/favicon.png"> 
  <meta content="Global" name="distribution"/>
  <meta content="General" name="rating"/>
  <meta content="en" http-equiv="content-language"/>
  <meta content="Turkey" name="geo.country"/> 
  <meta content="en_US" property="og:locale"/>
  <meta content="en_UK" property="og:locale:alternate"/>
  <meta content="Turkey" name="geo.placename"/> 
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-HTPQL6DM82"></script> 
  <script> 
    window.dataLayer = window.dataLayer || []; 
    function gtag(){dataLayer.push(arguments);} 
    gtag('js', new Date()); 
    gtag('config', 'G-HTPQL6DM82'); 
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6346556035067219"
     crossorigin="anonymous"></script>
  <meta name="google-site-verification" content="B3Dexm1A96g9Vj5uQ3LjOOsA-RxFqSwca_G0LrOchB0" />
  <meta name="monetag" content="caa90b8bc2e2b44cb2ca5427c3072138">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href="/favicon.png" type="image/png">

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "TikTok Account Location Finder",
    "url": "https://tikip.us/",
    "description": "A free online tool to find TikTok account locations and full profile details by username. Includes an FAQ section for common questions.",
    "creator": {
      "@type": "Person",
      "name": "@mo.or__"
    },
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://tikip.us/?username={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "TikTok Account Location Finder",
    "applicationCategory": "SocialNetworkAnalysisTool",
    "operatingSystem": "Web",
    "browserRequirements": "Requires a modern web browser with JavaScript enabled.",
    "description": "Free web-based tool to retrieve public TikTok user profile details, including estimated location, bio, follower counts, and video statistics by username. Learn more about the tool and see our FAQ.",
    "url": "https://tikip.us/",
    "author": {
      "@type": "Person",
      "name": "@mo.or__"
    },
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    }
  }
  </script>

  <style>
    /* This CSS aims for a "3D style" using common web techniques:
      - Shadows for depth and layering (elevation).
      - Gradients to give elements a sense of volume.
      - Rounded corners for a softer, more tangible appearance.
      - Subtle transformations on interaction (hover, active states) for a dynamic feel.
      - Inset shadows for elements like inputs to make them appear recessed.
    */
    :root {
      --primary: #10B981;
      --primary-hover: #059669;
      --support-color: #EF4444;
      --support-hover: #DC2626;
      --container-bg: #000000;
      --text-color: #FFFFFF;
      --text-secondary: #AAAAAA;
      --input-bg: #111111;
      --input-border: #222222;
      --result-bg: #000000;
      --card-bg: #080808;
      --card-header-bg: #0D0D0D;
      --patriotic-color: #FFFFFF;
      --bg-color: #000000;
      --success-color: #10B981;
      --highlight-color: #7C3AED;

      /* 3D Style: Shadow definitions for dark theme elements to create depth */
      --main-container-shadow-dark: 0 8px 20px -5px rgba(255, 255, 255, 0.03), 0 6px 8px -6px rgba(255, 255, 255, 0.03);
      --card-element-shadow-dark: 0 5px 15px -7px rgba(255, 255, 255, 0.04), 0 3px 5px -8px rgba(255, 255, 255, 0.04);
      --button-element-shadow-dark: 0 3px 5px -1px rgba(0, 0, 0, 0.4), 0 2px 3px -2px rgba(0, 0, 0, 0.4);
      --button-element-shadow-hover-dark: 0 6px 8px -2px rgba(0, 0, 0, 0.5), 0 3px 5px -3px rgba(0, 0, 0, 0.5); /* Shadow for button hover/focus lift effect */
      --input-element-shadow-dark: inset 0 1px 2px rgba(255, 255, 255, 0.03), 0 1px 1px rgba(255, 255, 255, 0.02); /* Inset shadow for recessed input feel */
    }

    :root[data-theme="light"] {
      --primary: #10B981;
      --primary-hover: #059669;
      --support-color: #EF4444;
      --support-hover: #DC2626;
      --container-bg: #FFFFFF; 
      --text-color: #333333;
      --text-secondary: #666666;
      --input-bg: #F5F5F5;
      --input-border: #DDDDDD;
      --result-bg: #FFFFFF;
      --card-bg: #F9F9F9;
      --card-header-bg: #F0F0F0;
      --patriotic-color: #333333;
      --bg-color: #F5F5F5; 
      --success-color: #10B981;
      --highlight-color: #7C3AED;

      /* 3D Style: Shadow definitions for light theme elements */
      --main-container-shadow-light: 0 10px 25px -5px rgba(0, 0, 0, 0.08), 0 8px 10px -6px rgba(0, 0, 0, 0.08);
      --card-element-shadow-light: 0 6px 15px -7px rgba(0, 0, 0, 0.09), 0 4px 6px -8px rgba(0, 0, 0, 0.09);
      --button-element-shadow-light: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
      --button-element-shadow-hover-light: 0 7px 10px -2px rgba(0, 0, 0, 0.15), 0 4px 6px -3px rgba(0, 0, 0, 0.15); /* Shadow for button hover/focus lift effect */
      --input-element-shadow-light: inset 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04); /* Inset shadow for recessed input feel */
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      color: var(--text-color);
      line-height: 1.6;
      -webkit-text-size-adjust: 100%;
      transition: background-color 0.3s, color 0.3s;
      margin: 0; 
      width: 100vw;
      overflow-x: hidden;
      /* Styles to prevent selection and copying */
      -webkit-user-select: none; /* Safari */
      -moz-user-select: none; /* Firefox */
      -ms-user-select: none; /* IE10+/Edge */
      user-select: none; /* Standard */
    }

    .container {
      background: var(--container-bg);
      padding: 20px; 
      border-radius: 12px; /* 3D Style: More rounded corners for a softer, modern 3D appearance */
      width: 100vw; 
      max-width: none; 
      transition: background-color 0.3s, box-shadow 0.3s;
      display: flex;
      flex-direction: column;
      align-items: center;
      /* 3D Style: Applying defined shadow variables for depth and elevation */
      box-shadow: var(--main-container-shadow-dark);
    }
    :root[data-theme="light"] .container {
        box-shadow: var(--main-container-shadow-light);
        border: 1px solid var(--input-border); 
    }


    .theme-toggle {
      position: fixed;
      top: 15px; 
      right: 15px; 
      background: var(--input-bg);
      border: 1px solid var(--input-border);
      border-radius: 20px; 
      width: 40px; 
      height: 40px; 
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s;
      z-index: 1000;
      /* 3D Style: Shadow for the theme toggle button */
      box-shadow: var(--button-element-shadow-dark);
    }
    :root[data-theme="light"] .theme-toggle {
        box-shadow: var(--button-element-shadow-light);
    }

    .theme-toggle:hover {
      transform: translateY(-2px) scale(1.05); /* 3D Style: Lift and scale effect on hover */
      /* 3D Style: Enhanced shadow on hover */
      box-shadow: var(--button-element-shadow-hover-dark);
    }
    :root[data-theme="light"] .theme-toggle:hover {
        box-shadow: var(--button-element-shadow-hover-light);
    }

    .theme-toggle svg {
      width: 20px; 
      height: 20px; 
      fill: var(--text-color);
      transition: fill 0.3s;
    }

    .patriotic-text {
      font-size: clamp(16px, 4vw, 20px); 
      text-align: center;
      color: var(--patriotic-color);
      margin-bottom: 10px; 
      font-weight: bold;
      width: 100%;
      padding: 10px 0; 
    }

    h1 { 
      font-size: clamp(20px, 5vw, 24px); 
      font-weight: 600; 
      text-align: center;
      color: var(--text-color);
      margin-bottom: 10px; 
      width: 100%;
    }

    .credit {
      font-size: clamp(10px, 3vw, 12px); 
      color: var(--text-secondary);
      text-align: center;
      margin-bottom: 20px; 
      width: 100%;
    }

    .credit a {
      color: var(--text-color); 
      text-decoration: none;
      font-weight: 600;
    }

    .credit a:hover {
      text-decoration: underline;
    }

    input {
      width: 100%;
      max-width: 600px; 
      padding: 12px; 
      font-size: clamp(14px, 4vw, 16px); 
      border: 1px solid var(--input-border);
      border-radius: 10px; /* 3D Style: Rounded corners for inputs */
      margin-bottom: 15px; 
      background: var(--input-bg);
      color: var(--text-color);
      transition: border-color 0.3s, box-shadow 0.3s;
      -webkit-appearance: none;
      /* user-select: text; Re-enable text selection for input fields */
      -webkit-user-select: text;
      -moz-user-select: text;
      -ms-user-select: text;
      user-select: text;
      /* 3D Style: Inset and outer shadow for inputs to give a recessed or slightly elevated look */
      box-shadow: var(--input-element-shadow-dark);
    }
    :root[data-theme="light"] input {
        box-shadow: var(--input-element-shadow-light);
    }

    input:focus {
      outline: none;
      border-color: var(--primary); 
      /* 3D Style: Enhanced shadow and focus ring */
       box-shadow: var(--input-element-shadow-dark), 0 0 0 2px color-mix(in srgb, var(--primary) 50%, transparent);
    }
    :root[data-theme="light"] input:focus {
       box-shadow: var(--input-element-shadow-light), 0 0 0 2px color-mix(in srgb, var(--primary) 50%, transparent);
    }


    input::placeholder {
      color: var(--text-secondary);
      opacity: 0.7;
    }

    button {
      width: 100%;
      max-width: 600px; 
      padding: 12px; 
      font-size: clamp(14px, 4vw, 16px); 
      border: none;
      border-radius: 10px; /* 3D Style: Rounded corners for buttons */
      color: white;
      font-weight: 600;
      cursor: pointer;
      margin-bottom: 10px; 
      transition: all 0.2s ease-out; 
      -webkit-tap-highlight-color: transparent;
      text-shadow: 0 1px 1px rgba(0,0,0,0.2); /* 3D Style: Subtle text shadow for depth on text */
      /* 3D Style: Applying button shadow for elevation */
      box-shadow: var(--button-element-shadow-dark);
    }
    :root[data-theme="light"] button {
        box-shadow: var(--button-element-shadow-light);
    }
    
    button:active {
        transform: translateY(1px) scale(0.99); /* 3D Style: Pressed effect */
        /* 3D Style: Shadow adjustment for pressed state */
        box-shadow: 0 1px 2px -1px var(--button-element-shadow-dark); /* Slightly reduced shadow */
    }
    :root[data-theme="light"] button:active {
        box-shadow: 0 1px 2px -1px var(--button-element-shadow-light);
    }


    #getResultsBtn {
      /* 3D Style: Gradient background for a voluminous button appearance */
      background: linear-gradient(145deg, var(--primary), var(--primary-hover)); 
    }

    #getResultsBtn:hover, #getResultsBtn:focus {
      background: linear-gradient(145deg, var(--primary-hover), var(--primary)); 
      transform: translateY(-2px); /* 3D Style: Transform to create a 'lift' interaction */
      /* 3D Style: Enhanced shadow on hover/focus for lift effect */
      box-shadow: var(--button-element-shadow-hover-dark);
    }
    :root[data-theme="light"] #getResultsBtn:hover,
    :root[data-theme="light"] #getResultsBtn:focus {
        box-shadow: var(--button-element-shadow-hover-light);
    }

    #supportBtn {
      background: linear-gradient(145deg, var(--support-color), var(--support-hover)); 
      margin-bottom: 0; 
    }

    #supportBtn:hover, #supportBtn:focus {
      background: linear-gradient(145deg, var(--support-hover), var(--support-color)); 
      transform: translateY(-2px); /* 3D Style: Lift effect */
      box-shadow: var(--button-element-shadow-hover-dark);
    }
    :root[data-theme="light"] #supportBtn:hover,
    :root[data-theme="light"] #supportBtn:focus {
        box-shadow: var(--button-element-shadow-hover-light);
    }

    #result {
      background: transparent; 
      padding: 0; 
      margin-top: 25px; 
      border: none; 
      min-height: 50px; 
      width: 100%;
      max-width: 600px; 
    }

    .profile-card {
      background: var(--card-bg);
      border-radius: 12px; /* 3D Style: Rounded corners for cards */
      border: 1px solid var(--input-border);
      overflow: hidden;
      transition: background-color 0.3s, border-color 0.3s, box-shadow 0.3s;
      width: 100%;
      max-width: 600px; 
      /* 3D Style: Shadow for profile card elevation */
      box-shadow: var(--card-element-shadow-dark);
    }
    :root[data-theme="light"] .profile-card {
        box-shadow: var(--card-element-shadow-light);
    }

    .profile-card-header {
      display: flex;
      align-items: center;
      padding: 20px; 
      background: var(--card-header-bg);
      border-bottom: 1px solid var(--input-border);
      transition: background-color 0.3s, border-color 0.3s;
    }

    .profile-photo-enhanced {
      width: 70px; 
      height: 70px; 
      border-radius: 50%;
      object-fit: cover;
      margin-right: 20px; 
      border: 3px solid var(--primary); /* Highlight border */
      flex-shrink: 0;
      background-color: var(--input-bg);
      box-shadow: 0 2px 4px rgba(0,0,0,0.1); /* 3D Style: Subtle shadow for profile photo depth */
    }

    .profile-photo-placeholder {
      width: 70px; 
      height: 70px; 
      border-radius: 50%;
      margin-right: 20px; 
      background-color: var(--input-bg);
      border: 3px solid var(--input-border);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-secondary);
      flex-shrink: 0;
      transition: background-color 0.3s, border-color 0.3s;
    }

    .profile-photo-placeholder svg {
      width: 36px; 
      height: 36px; 
      fill: var(--text-secondary);
    }

    .profile-identity {
      display: flex;
      flex-direction: column;
      justify-content: center;
      min-width: 0;
    }

    .profile-nickname {
      font-size: clamp(18px, 4.5vw, 22px); 
      font-weight: 600;
      color: var(--text-color);
      margin: 0 0 4px 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .profile-username-display {
      font-size: clamp(13px, 3.5vw, 15px); 
      color: var(--text-secondary);
      margin: 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .profile-card-body {
      padding: 10px 20px 20px 20px; 
    }

    .profile-info-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      padding: 10px 0; 
      border-bottom: 1px solid var(--input-bg);
      font-size: clamp(13px, 3.5vw, 14px); 
    }

    .profile-info-row:last-child {
      border-bottom: none;
    }

    .info-label {
      font-weight: 600;
      color: var(--text-secondary);
      margin-right: 15px; 
      flex-shrink: 0;
      text-transform: capitalize; 
    }

    .info-value {
      color: var(--text-color);
      text-align: right;
      word-break: break-word;
      flex-grow: 1;
      min-width: 0;
    }

    .bio-row { 
      flex-direction: column;
      align-items: flex-start;
    }

    .bio-row .info-label {
      margin-bottom: 8px;
    }

    .bio-row .info-value.bio-text {
      text-align: left;
      width: 100%;
      line-height: 1.5;
      white-space: pre-wrap;
      color: var(--text-secondary);
      font-size: clamp(12px, 3.2vw, 13px); 
    }

    .profile-card-footer {
      padding: 15px 20px; 
      background: var(--card-header-bg);
      border-top: 1px solid var(--input-border);
      text-align: center;
      transition: background-color 0.3s, border-color 0.3s;
    }

    .message {
      padding: 10px; 
      border-radius: 6px; 
      font-weight: 500;
      margin: 0;
      display: inline-block;
      /* 3D Style: Subtle shadow for message boxes */
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    :root[data-theme="dark"] .message {
        box-shadow: 0 1px 3px rgba(255,255,255,0.05);
    }


    .success-message {
      color: var(--success-color);
    }

    .error-message {
      color: var(--support-color);
    }

    .loading-spinner-container {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px; 
      color: var(--text-secondary);
      text-align: center;
      width: 100%;
    }

    .loading-spinner {
      display: inline-block;
      width: 20px; 
      height: 20px; 
      border: 3px solid rgba(0,0,0,0.1); 
      border-radius: 50%;
      border-top-color: var(--text-color);
      animation: spin 1s ease-in-out infinite;
      margin-right: 10px; 
    }

    main {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .about-section, .page-content > .about-section, .footer { 
      margin-top: 25px; 
      padding: 15px; 
      background: var(--card-bg);
      border-radius: 10px; /* 3D Style: Rounded corners for content sections */
      font-size: clamp(13px, 3.5vw, 14px); 
      line-height: 1.6; 
      border: 1px solid var(--input-border);
      transition: background-color 0.3s, border-color 0.3s, box-shadow 0.3s;
      width: 100%;
      max-width: 600px; 
      /* 3D Style: Shadow for content sections */
      box-shadow: var(--card-element-shadow-dark);
    }
    :root[data-theme="light"] .about-section,
    :root[data-theme="light"] .page-content > .about-section,
    :root[data-theme="light"] .footer {
        box-shadow: var(--card-element-shadow-light);
    }
    
    .page-content { 
        display: none; 
        width: 100%;
        max-width: 600px; 
        margin-top: 25px;
    }
    .page-content.active {
        display: block; 
    }
    .page-content h1 { 
        font-size: clamp(18px, 4.5vw, 22px); 
        color: var(--highlight-color);
        margin-bottom: 15px;
    }


    .about-section h2 { 
      color: var(--highlight-color);
      font-size: clamp(14px, 3.8vw, 16px); 
      margin-bottom: 8px; 
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .about-section p {
      margin-bottom: 10px; 
      color: var(--text-secondary);
    }

    .about-section p:last-child {
      margin-bottom: 0;
    }

    .dm-link {
      color: var(--highlight-color);
      text-decoration: none;
      font-weight: 600;
    }

    .dm-link:hover {
      text-decoration: underline;
    }

    .footer-nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px; 
    }

    .footer-nav a {
      color: var(--highlight-color);
      text-decoration: none;
      font-size: clamp(12px, 3.2vw, 13px); 
      font-weight: 600;
      transition: color 0.3s, transform 0.2s; 
    }

    .footer-nav a:hover {
      text-decoration: underline;
      color: var(--primary);
      transform: translateY(-1px); /* 3D Style: Subtle lift for footer links */
    }

    .contact-form {
      display: flex;
      flex-direction: column;
      gap: 15px; 
      margin-top: 15px; 
      width: 100%;
      max-width: 600px; 
    }

    .contact-form input,
    .contact-form textarea {
      width: 100%;
      padding: 12px; 
      font-size: clamp(14px, 4vw, 16px); 
      border: 1px solid var(--input-border);
      border-radius: 10px; /* 3D Style: Rounded corners */
      background: var(--input-bg);
      color: var(--text-color);
      transition: border-color 0.3s, box-shadow 0.3s;
      -webkit-appearance: none;
      /* user-select: text; Re-enable text selection for form elements */
      -webkit-user-select: text;
      -moz-user-select: text;
      -ms-user-select: text;
      user-select: text;
      /* 3D Style: Shadows for form elements */
      box-shadow: var(--input-element-shadow-dark);
    }
    :root[data-theme="light"] .contact-form input,
    :root[data-theme="light"] .contact-form textarea {
        box-shadow: var(--input-element-shadow-light);
    }
    
    .contact-form input:focus,
    .contact-form textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: var(--input-element-shadow-dark), 0 0 0 2px color-mix(in srgb, var(--primary) 50%, transparent);
    }
    :root[data-theme="light"] .contact-form input:focus,
    :root[data-theme="light"] .contact-form textarea:focus {
      box-shadow: var(--input-element-shadow-light), 0 0 0 2px color-mix(in srgb, var(--primary) 50%, transparent);
    }

    .contact-form textarea {
      resize: vertical;
      min-height: 100px; 
    }

    .contact-form button { 
      background: linear-gradient(145deg, var(--primary), var(--primary-hover)); 
    }

    .contact-form button:hover,
    .contact-form button:focus { 
      background: linear-gradient(145deg, var(--primary-hover), var(--primary));
      transform: translateY(-2px); /* 3D Style: Lift effect */
      box-shadow: var(--button-element-shadow-hover-dark);
    }
     :root[data-theme="light"] .contact-form button:hover,
     :root[data-theme="light"] .contact-form button:focus {
        box-shadow: var(--button-element-shadow-hover-light);
    }


    .back-btn { 
      background: linear-gradient(145deg, var(--support-color), var(--support-hover)); 
      margin-top: 15px; 
    }

    .back-btn:hover,
    .back-btn:focus { 
      background: linear-gradient(145deg, var(--support-hover), var(--support-color));
      transform: translateY(-2px); /* 3D Style: Lift effect */
      box-shadow: var(--button-element-shadow-hover-dark);
    }
    :root[data-theme="light"] .back-btn:hover,
    :root[data-theme="light"] .back-btn:focus {
        box-shadow: var(--button-element-shadow-hover-light);
    }


    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    #ad-banner {
      width: 100%;
      max-width: 600px; 
      margin: 20px auto; 
      text-align: center;
      padding: 10px; 
      background: var(--card-bg);
      border: 1px solid var(--input-border);
      border-radius: 10px; /* 3D Style: Rounded corners */
      transition: background-color 0.3s, border-color 0.3s, box-shadow 0.3s;
      /* 3D Style: Shadow for ad banner */
      box-shadow: var(--card-element-shadow-dark);
    }
    :root[data-theme="light"] #ad-banner {
        box-shadow: var(--card-element-shadow-light);
    }

    /* Media Queries for Responsiveness - 3D styles are generally maintained, adjusted for smaller screens where needed */
    @media (max-width: 600px) { 
      .container { 
          padding: 15px;  
          border-radius: 8px; 
           box-shadow: var(--main-container-shadow-dark); /* Maintain shadow, could be reduced if too heavy */
      }
      :root[data-theme="light"] .container {
           box-shadow: var(--main-container-shadow-light);
      }

      input, button, textarea { padding: 10px 12px; } 
      .profile-photo-enhanced, .profile-photo-placeholder { width: 60px; height: 60px; margin-right: 15px; } 
      .profile-photo-placeholder svg { width: 30px; height: 30px; } 
      .profile-card-header, .profile-card-body, .profile-card-footer { padding: 15px; } 
      .theme-toggle { top: 10px; right: 10px; width: 36px; height: 36px; } 
      .footer-nav { gap: 10px; } 
      .about-section, .page-content, .page-content > .about-section, .footer, #result, .profile-card { 
          max-width: 100%; 
          border-radius: 8px; 
      }
      #ad-banner { padding: 8px; max-width: 100%; border-radius: 8px;} 
    }

    @media (max-width: 400px) { 
      .container { padding: 10px; } 
      .patriotic-text { font-size: 16px; } 
      h1 { font-size: 18px; } 
      .page-content h1 { font-size: 17px; }
      input, button, textarea { padding: 8px 10px; } 
      .about-section, .page-content > .about-section, .footer { padding: 12px; } 
      .profile-card-header, .profile-card-body, .profile-card-footer { padding: 12px; } 
      .profile-photo-enhanced, .profile-photo-placeholder { width: 50px; height: 50px; } 
      .profile-photo-placeholder svg { width: 24px; height: 24px; } 
      .info-label { margin-right: 10px; } 
      .theme-toggle { top: 8px; right: 8px; width: 32px; height: 32px; } 
      .theme-toggle svg { width: 16px; height: 16px; } 
      .footer-nav { flex-direction: column; gap: 8px; } 
    }

    @media (min-width: 1024px) { 
      .container { padding: 25px; } 
      input, button, .about-section, .page-content, .page-content > .about-section, .footer, #result, .profile-card { max-width: 700px; } 
      #ad-banner { max-width: 700px; } 
    }

    @media (max-width: 320px) { 
      .container { padding: 8px; } 
      input, button, textarea { font-size: 13px; padding: 7px 9px; } 
      .about-section, .page-content > .about-section, .footer { padding: 10px; } 
    }

    @media screen and (max-width: 767px) {
      input, select, textarea { font-size: 16px; } 
    }
    /* Added style for domain restriction message */
    #domain-restriction-message {
        display: none; /* Hidden by default */
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.95);
        color: white;
        z-index: 9999;
        text-align: center;
        padding-top: 20%;
        font-size: 1.5em;
    }
  </style>
</head>
<body>
  <div id="domain-restriction-message">
    <p>This content is exclusively available on tikip.us.</p>
  </div>

  <div class="container">
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1-8.313-12.454z"/>
      </svg>
    </button>
    
    <main>
        <div class="page-content active" id="main-page">
          <div class="patriotic-text">❌🚬 | 🏋‍♀️✅</div>
          <h1>𝙏𝙞𝙠𝙩𝙤𝙠 𝘼𝙘𝙘𝙤𝙪𝙣𝙩 𝙇𝙤𝙘𝙖𝙩𝙞𝙤𝙣 𝙁𝙞𝙣𝙙𝙚𝙧</h1>
          <div class="credit">Created by <a href="https://www.tiktok.com/@mo.or__" target="_blank" rel="noopener">@_moro.__</a></div>
          
          <section aria-labelledby="search-tool-heading">
            <h2 id="search-tool-heading" class="sr-only">TikTok Profile Search Tool</h2> <input type="text" id="username" placeholder="Enter TikTok username (without @)" required aria-label="TikTok Username Input">
            <button id="getResultsBtn" aria-label="Search TikTok profile">Get Profile Details</button>
            <button id="supportBtn" aria-label="Support the creator">Support Our Work ❤</button>
          </section>
          <div id="result" aria-live="polite"></div> 
          
          <article class="about-section" aria-labelledby="about-tool-heading">
            <h2 id="about-tool-heading">About This TikTok Location Finder Tool</h2>
            <p>This <strong>TikTok Location Finder</strong> is a free tool designed to help you retrieve complete public TikTok user profiles. With our <strong>TikTok profile lookup</strong> service, you can easily <strong>find TikTok user location</strong> information, along with other <strong>TikTok account details</strong> like username, bio, follower counts, video statistics, and more. It's an ideal resource for researchers, social media enthusiasts, or anyone curious about a TikTok user's public presence.</p>
            <p><strong>Key Features:</strong> Comprehensive <strong>TikTok profile lookup</strong>, estimated country display with flags, full bio visibility, up-to-date follower and video statistics, responsive design for all devices, and a user-friendly dark/light mode switcher.</p>
          </article>
          
          <article class="about-section" aria-labelledby="faq-heading">
            <h2 id="faq-heading">Frequently Asked Questions (FAQ)</h2>
            <p><strong>How does the TikTok Location Finder work?</strong> Our tool fetches publicly available TikTok profile information using the username you provide. This includes data such as their display name, bio, follower and video counts, and an estimated country or region associated with the <strong>TikTok account location</strong>.</p>
            <p><strong>Is this TikTok tool free to use?</strong> Yes, our <strong>TikTok location finder</strong> is completely free. There are no hidden charges or subscription fees to access <strong>TikTok account details</strong>.</p>
            <p><strong>How accurate is the TikTok username location and other data?</strong> The information, including the <strong>TikTok username location</strong>, is based on publicly accessible data from TikTok profiles. While we strive for accuracy, the exactness of location and statistics can vary and is subject to the information publicly shared by the user. This <strong>free TikTok tool</strong> provides an estimate based on available data.</p>
          </article>
          
          <article class="about-section" aria-labelledby="about-creator-heading">
            <h2 id="about-creator-heading">About the Creator</h2>
            <p>I'm Moor, a Graphic Designer & Web Developer with 4+ years of experience, passionate about building tools like this.</p>
            <p>Reach out on <a href="https://www.tiktok.com/@mo.or__" class="dm-link" target="_blank" rel="noopener">TikTok</a> or support my work!</p>
          </article>
          
          <article class="about-section" aria-labelledby="get-involved-heading">
            <h2 id="get-involved-heading">Get Involved</h2>
            <p>Enjoy this tool? Share it or support its development to keep it free!</p>
            <p><a href="https://ko-fi.com/moroccan" class="dm-link" target="_blank" rel="noopener">Support on Ko-fi</a> | <a href="https://www.tiktok.com/@mo.or__" class="dm-link" target="_blank" rel="noopener">Follow on TikTok</a></p>
          </article>
          
          <article class="about-section" aria-labelledby="disclaimer-heading">
            <h2 id="disclaimer-heading">Disclaimer</h2>
            <p>For educational use only. Respect user privacy and use responsibly. Data is sourced publicly and may not be 100% accurate.</p>
          </article>
        </div>

        <section class="page-content" id="contact-page" aria-labelledby="contact-page-heading">
          <h1 id="contact-page-heading">Contact Us</h1>
          <article class="about-section"> <p>Have questions or feedback? Reach out to us using the form below or contact us directly via <a href="https://www.tiktok.com/@mo.or__" class="dm-link" target="_blank" rel="noopener">TikTok</a>.</p>
            <form class="contact-form" aria-labelledby="contact-page-heading">
              <input type="text" id="contact-name" placeholder="Your Name" required aria-label="Your Name">
              <input type="email" id="contact-email" placeholder="Your Email" required aria-label="Your Email">
              <textarea id="contact-message" placeholder="Your Message" required aria-label="Your Message"></textarea>
              <button type="submit" id="contact-submit">Send Message</button>
            </form>
          </article>
          <button class="back-btn" onclick="showPage('main-page')">Back to Home</button>
        </section>

        <section class="page-content" id="about-page" aria-labelledby="about-us-page-heading">
          <h1 id="about-us-page-heading">About Us</h1>
          <article class="about-section">
            <p>Welcome to the TikTok Account Location Finder, a free tool created by <a href="https://www.tiktok.com/@mo.or__" class="dm-link" target="_blank" rel="noopener">@_moro.__</a>.</p>
            <p>Our mission is to provide a user-friendly platform for researchers, marketers, and social media enthusiasts to access public TikTok profile data. This tool is designed with simplicity, accessibility, and responsiveness in mind, ensuring it works seamlessly across all devices.</p>
            <p>Built by Moor, a passionate Graphic Designer and Web Developer with over 4 years of experience, this project reflects a commitment to creating innovative tools for the community. Follow us on <a href="https://www.tiktok.com/@mo.or__" class="dm-link" target="_blank" rel="noopener">TikTok</a> for updates and more!</p>
          </article>
          <button class="back-btn" onclick="showPage('main-page')">Back to Home</button>
        </section>

        <section class="page-content" id="privacy-page" aria-labelledby="privacy-policy-page-heading">
          <h1 id="privacy-policy-page-heading">Privacy Policy</h1>
          <article class="about-section">
            <h2>1. Introduction</h2>
            <p>We value your privacy and are committed to protecting your personal information. This Privacy Policy explains how we collect, use, and safeguard your data when you use the TikTok Account Location Finder.</p>
            
            <h2>2. Information We Collect</h2>
            <p>We do not collect personal information unless you voluntarily provide it (e.g., via the contact form). The tool fetches publicly available TikTok profile data, which may include usernames, bios, follower counts, and other public metrics.</p>
            
            <h2>3. How We Use Your Information</h2>
            <p>Any information provided through the contact form (e.g., name, email, message) is used solely to respond to your inquiries. Public TikTok data is retrieved and displayed for informational purposes only.</p>
            
            <h2>4. Data Sharing</h2>
            <p>We do not sell, trade, or share your personal information with third parties, except as required by law. Public TikTok data is sourced via a third-party API and is not stored by us.</p>
            
            <h2>5. Cookies and Tracking</h2>
            <p>This site uses local storage to track page visits for analytics purposes (e.g., visit counter). No cookies or third-party trackers are used.</p>
            
            <h2>6. Contact Us</h2>
            <p>If you have any questions about this Privacy Policy, please contact us via <a href="https://www.tiktok.com/@mo.or__" class="dm-link" target="_blank" rel="noopener">TikTok</a> or the contact form.</p>
          </article>
          <button class="back-btn" onclick="showPage('main-page')">Back to Home</button>
        </section>

        <section class="page-content" id="terms-page" aria-labelledby="terms-of-service-page-heading">
          <h1 id="terms-of-service-page-heading">Terms of Service</h1>
          <article class="about-section">
            <h2>1. Acceptance of Terms</h2>
            <p>By using the TikTok Account Location Finder, you agree to these Terms of Service. If you do not agree, please do not use the tool.</p>
            
            <h2>2. Use of the Tool</h2>
            <p>This tool is for educational and research purposes only. You agree to use it responsibly and respect the privacy of others. Do not use the tool for illegal activities or to harm others.</p>
            
            <h2>3. Data Accuracy</h2>
            <p>The tool fetches publicly available TikTok data via a third-party API. We do not guarantee the accuracy or completeness of the data provided.</p>
            
            <h2>4. Intellectual Property</h2>
            <p>All content, design, and code on this site are the property of the creator (@_moro.__). Unauthorized copying or distribution is prohibited.</p>
            
            <h2>5. Limitation of Liability</h2>
            <p>We are not liable for any damages arising from the use of this tool. Use it at your own risk.</p>
            
            <h2>6. Changes to Terms</h2>
            <p>We may update these Terms of Service at any time. Continued use of the tool constitutes acceptance of the updated terms.</p>
            
            <h2>7. Contact Us</h2>
            <p>If you have any questions about these Terms, please contact us via <a href="https://www.tiktok.com/@mo.or__" class="dm-link" target="_blank" rel="noopener">TikTok</a> or the contact form.</p>
          </article>
          <button class="back-btn" onclick="showPage('main-page')">Back to Home</button>
        </section>
    </main>
    
    <footer class="footer"> <nav class="footer-nav" aria-label="Footer navigation"> <a href="#" onclick="showPage('main-page'); return false;">Home</a>
        <a href="#" onclick="showPage('about-page'); return false;">About Us</a>
        <a href="#" onclick="showPage('contact-page'); return false;">Contact Us</a>
        <a href="#" onclick="showPage('privacy-page'); return false;">Privacy Policy</a>
        <a href="#" onclick="showPage('terms-page'); return false;">Terms of Service</a>
      </nav>
    </footer>

  </div> 
  <script>
    // ===== DOMAIN RESTRICTION AND COPY PROTECTION ===== //
    (function() {
        const allowedDomain = "tikip.us";
        // Check if the current hostname matches the allowed domain or if it's a local development environment
        const isLocalDevelopment = window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1";

        if (window.location.hostname !== allowedDomain && !isLocalDevelopment) {
            // If not on the allowed domain and not local development, hide content and show message
            const bodyContent = document.querySelector('.container');
            const restrictionMessage = document.getElementById('domain-restriction-message');
            if (bodyContent) {
                bodyContent.style.display = 'none';
            }
            if (restrictionMessage) {
                restrictionMessage.style.display = 'block';
            }
            return; // Stop further script execution for protection features
        }

        // --- Copy Protection Measures (only if on allowed domain or local dev) ---
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        document.addEventListener('selectstart', function(e) {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                return;
            }
            e.preventDefault();
        });

        document.addEventListener('keydown', function(e) {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                return;
            }
            if (e.ctrlKey || e.metaKey) {
                if (e.key === 'c' || e.key === 'x' || e.key === 'u' || e.keyCode === 67 || e.keyCode === 88 || e.keyCode === 85) {
                    e.preventDefault();
                }
            }
        });
    })();


    // Base title for the website
    const baseTitle = "TikTok Account Location Finder | Full Profile Details & FAQ";

    // ===== THEME TOGGLE FUNCTIONALITY ===== //
    const themeToggle = document.getElementById('themeToggle');
    const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');

    const currentTheme = localStorage.getItem('theme') || (prefersDarkScheme.matches ? 'dark' : 'light');
    document.documentElement.setAttribute('data-theme', currentTheme);
    updateThemeIcon(currentTheme);

    themeToggle.addEventListener('click', function() {
      let theme = document.documentElement.getAttribute('data-theme');
      theme = theme === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', theme);
      localStorage.setItem('theme', theme); 
      updateThemeIcon(theme);
    });

    function updateThemeIcon(theme) {
      const icon = themeToggle.querySelector('svg');
      if (theme === 'dark') {
        icon.innerHTML = '<path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1-8.313-12.454z"/>'; // Moon icon
      } else {
        icon.innerHTML = '<path d="M12 18a6 6 0 1 1 0-12 6 6 0 1 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 1 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/>'; // Sun icon
      }
    }

    // ===== PAGE NAVIGATION + DYNAMIC TITLE UPDATE ===== //
    function showPage(pageId) {
      document.querySelectorAll('.page-content').forEach(page => {
        page.classList.remove('active');
      });
      const targetPage = document.getElementById(pageId);
      if (targetPage) {
        targetPage.classList.add('active');
        const pageTitleElement = targetPage.querySelector('h1'); 
        if (pageTitleElement && pageId !== 'main-page') {
            document.title = pageTitleElement.textContent + " | TikTok Account Location Finder";
        } else {
            document.title = baseTitle; 
        }
      } else {
        console.warn(`Page with ID "${pageId}" not found. Defaulting to main page.`);
        const mainPage = document.getElementById('main-page');
        if(mainPage) mainPage.classList.add('active');
        document.title = baseTitle;
      }
      window.scrollTo({ top: 0, behavior: 'smooth' }); 
    }

    // ===== CONTACT FORM SUBMISSION ===== //
    const contactSubmitButton = document.getElementById('contact-submit');
    if (contactSubmitButton) {
        contactSubmitButton.addEventListener('click', function(e) {
          e.preventDefault(); 
          const nameInput = document.getElementById('contact-name');
          const emailInput = document.getElementById('contact-email');
          const messageInput = document.getElementById('contact-message');
          
          const name = nameInput ? nameInput.value.trim() : '';
          const email = emailInput ? emailInput.value.trim() : '';
          const message = messageInput ? messageInput.value.trim() : '';
          
          const resultDiv = document.getElementById('result'); 

          if (name && email && message) {
            if (resultDiv) {
                resultDiv.innerHTML = '<div class="message success-message">Thank you for your message! We will get back to you soon.</div>';
                resultDiv.style.display = 'block';
                setTimeout(() => { 
                    if (resultDiv.contains(resultDiv.firstChild) && resultDiv.firstChild.classList.contains('success-message')) {
                        resultDiv.style.display = 'none'; 
                        resultDiv.innerHTML = ''; 
                    }
                }, 4000);
            } else {
                console.log('Thank you for your message! We will get back to you soon.'); 
            }
            if(nameInput) nameInput.value = '';
            if(emailInput) emailInput.value = '';
            if(messageInput) messageInput.value = '';
          } else {
            if (resultDiv) {
                resultDiv.innerHTML = '<div class="message error-message">Please fill in all fields in the contact form.</div>';
                resultDiv.style.display = 'block';
                setTimeout(() => {
                     if (resultDiv.contains(resultDiv.firstChild) && resultDiv.firstChild.classList.contains('error-message')) {
                        resultDiv.style.display = 'none'; 
                        resultDiv.innerHTML = '';
                     }
                }, 4000);
            } else {
                 console.error('Please fill in all fields in the contact form.'); 
            }
          }
        });
    }


    // ===== COUNTRY FLAG MAPPING ===== //
    function getCountryFlag(country) {
      const flagMap = {
        'AD': '🇦🇩', 'Andorra': '🇦🇩', 'AE': '🇦🇪', 'United Arab Emirates': '🇦🇪', 'AF': '🇦🇫', 'Afghanistan': '🇦🇫',
        'AG': '🇦🇬', 'Antigua and Barbuda': '🇦🇬', 'AI': '🇦🇮', 'Anguilla': '🇦🇮', 'AL': '🇦🇱', 'Albania': '🇦🇱',
        'AM': '🇦🇲', 'Armenia': '🇦🇲', 'AO': '🇦🇴', 'Angola': '🇦🇴', 'AQ': '🇦🇶', 'Antarctica': '🇦🇶', // Corrected Antarctica
        'AR': '🇦🇷', 'Argentina': '🇦🇷', 'AS': '🇦🇸', 'American Samoa': '🇦🇸', 'AT': '🇦🇹', 'Austria': '🇦🇹',
        'AU': '🇦🇺', 'Australia': '🇦🇺', 'AW': '🇦🇼', 'Aruba': '🇦🇼', 'AX': '🇦🇽', 'Åland Islands': '🇦🇽',
        'AZ': '🇦🇿', 'Azerbaijan': '🇦🇿', 'BA': '🇧🇦', 'Bosnia and Herzegovina': '🇧🇦', 'BB': '🇧🇧', 'Barbados': '🇧🇧',
        'BD': '🇧🇩', 'Bangladesh': '🇧🇩', 'BE': '🇧🇪', 'Belgium': '🇧🇪', 'BF': '🇧🇫', 'Burkina Faso': '🇧🇫',
        'BG': '🇧🇬', 'Bulgaria': '🇧🇬', 'BH': '🇧🇭', 'Bahrain': '🇧🇭', 'BI': '🇧🇮', 'Burundi': '🇧🇮',
        'BJ': '🇧🇯', 'Benin': '🇧🇯', 'BL': '🇧🇱', 'Saint Barthélemy': '🇧🇱', 'BM': '🇧🇲', 'Bermuda': '🇧🇲',
        'BN': '🇧🇳', 'Brunei Darussalam': '🇧🇳', 'BO': '🇧🇴', 'Bolivia': '🇧🇴', 'BQ': '🇧🇶', 'Bonaire, Sint Eustatius and Saba': '🇧🇶', 
        'BR': '🇧🇷', 'Brazil': '🇧🇷', 'BS': '🇧🇸', 'Bahamas': '🇧🇸', 'BT': '🇧🇹', 'Bhutan': '🇧🇹',
        'BV': '🇧🇻', 'Bouvet Island': '🇧🇻', 'BW': '🇧🇼', 'Botswana': '🇧🇼', 'BY': '🇧🇾', 'Belarus': '🇧🇾',
        'BZ': '🇧🇿', 'Belize': '🇧🇿', 'CA': '🇨🇦', 'Canada': '🇨🇦', 'CC': '🇨🇨', 'Cocos (Keeling) Islands': '🇨🇨',
        'CD': '🇨🇩', 'Congo, Democratic Republic of the': '🇨🇩', 'CF': '🇨🇫', 'Central African Republic': '🇨🇫', 'CG': '🇨🇬', 'Congo, Republic of the': '🇨🇬',
        'CH': '🇨🇭', 'Switzerland': '🇨🇭', 'CI': '🇨🇮', "Côte D'Ivoire": '🇨🇮', 'CK': '🇨🇰', 'Cook Islands': '🇨🇰',
        'CL': '🇨🇱', 'Chile': '🇨🇱', 'CM': '🇨🇲', 'Cameroon': '🇨🇲', 'CN': '🇨🇳', 'China': '🇨🇳',
        'CO': '🇨🇴', 'Colombia': '🇨🇴', 'CR': '🇨🇷', 'Costa Rica': '🇨🇷', 'CU': '🇨🇺', 'Cuba': '🇨🇺',
        'CV': '🇨🇻', 'Cape Verde': '🇨🇻', 'CW': '🇨🇼', 'Curaçao': '🇨🇼', 'CX': '🇨🇽', 'Christmas Island': '🇨🇽',
        'CY': '🇨🇾', 'Cyprus': '🇨🇾', 'CZ': '🇨🇿', 'Czech Republic': '🇨🇿', 'DE': '🇩🇪', 'Germany': '🇩🇪',
        'DJ': '🇩🇯', 'Djibouti': '🇩🇯', 'DK': '🇩🇰', 'Denmark': '🇩🇰', 'DM': '🇩🇲', 'Dominica': '🇩🇲',
        'DO': '🇩🇴', 'Dominican Republic': '🇩🇴', 'DZ': '🇩🇿', 'Algeria': '🇩🇿', 'EC': '🇪🇨', 'Ecuador': '🇪🇨',
        'EE': '🇪🇪', 'Estonia': '🇪🇪', 'EG': '🇪🇬', 'Egypt': '🇪🇬', 'EH': '🇪🇭', 'Western Sahara': '🇪🇭',
        'ER': '🇪🇷', 'Eritrea': '🇪🇷', 'ES': '🇪🇸', 'Spain': '🇪🇸', 'ET': '🇪🇹', 'Ethiopia': '🇪🇹', 
        'FI': '🇫🇮', 'Finland': '🇫🇮', 'FJ': '🇫🇯', 'Fiji': '🇫🇯', 'FK': '🇫🇰', 'Falkland Islands (Malvinas)': '🇫🇰',
        'FM': '🇫🇲', 'Micronesia, Federated States of': '🇫🇲', 'FO': '🇫🇴', 'Faroe Islands': '🇫🇴', 'FR': '🇫🇷', 'France': '🇫🇷',
        'GA': '🇬🇦', 'Gabon': '🇬🇦', 'GB': '🇬🇧', 'United Kingdom': '🇬🇧', 'UK': '🇬🇧', 'GD': '🇬🇩', 'Grenada': '🇬🇩',
        'GE': '🇬🇪', 'Georgia': '🇬🇪', 'GF': '🇬🇫', 'French Guiana': '🇬🇫', 'GG': '🇬🇬', 'Guernsey': '🇬🇬',
        'GH': '🇬🇭', 'Ghana': '🇬🇭', 'GI': '🇬🇮', 'Gibraltar': '🇬🇮', 'GL': '🇬🇱', 'Greenland': '🇬🇱',
        'GM': '🇬🇲', 'Gambia': '🇬🇲', 'GN': '🇬🇳', 'Guinea': '🇬🇳', 'GP': '🇬🇵', 'Guadeloupe': '🇬🇵',
        'GQ': '🇬🇶', 'Equatorial Guinea': '🇬🇶', 'GR': '🇬🇷', 'Greece': '🇬🇷', 'GS': '🇬🇸', 'South Georgia and the South Sandwich Islands': '🇬🇸',
        'GT': '🇬🇹', 'Guatemala': '🇬🇹', 'GU': '🇬🇺', 'Guam': '🇬🇺', 'GW': '🇬🇼', 'Guinea-Bissau': '🇬🇼',
        'GY': '🇬🇾', 'Guyana': '🇬🇾', 'HK': '🇭🇰', 'Hong Kong': '🇭🇰', 'HM': '🇭🇲', 'Heard Island and McDonald Islands': '🇭🇲', 
        'HN': '🇭🇳', 'Honduras': '🇭🇳', 'HR': '🇭🇷', 'Croatia': '🇭🇷', 'HT': '🇭🇹', 'Haiti': '🇭🇹',
        'HU': '🇭🇺', 'Hungary': '🇭🇺', 'ID': '🇮🇩', 'Indonesia': '🇮🇩', 'IE': '🇮🇪', 'Ireland': '🇮🇪',
        'IL': '🇮🇱', 'Israel': '🇮🇱', 'IM': '🇮🇲', 'Isle of Man': '🇮🇲', 'IN': '🇮🇳', 'India': '🇮🇳',
        'IO': '🇮🇴', 'British Indian Ocean Territory': '🇮🇴', 'IQ': '🇮🇶', 'Iraq': '🇮🇶', 'IR': '🇮🇷', 'Iran, Islamic Republic of': '🇮🇷',
        'IS': '🇮🇸', 'Iceland': '🇮🇸', 'IT': '🇮🇹', 'Italy': '🇮🇹', 'JE': '🇯🇪', 'Jersey': '🇯🇪',
        'JM': '🇯🇲', 'Jamaica': '🇯🇲', 
        'JO': '🇯🇴', 'Jordan': '🇯🇴', 'JP': '🇯🇵', 'Japan': '🇯🇵', 'KE': '🇰🇪', 'Kenya': '🇰🇪',
        'KG': '🇰🇬', 'Kyrgyzstan': '🇰🇬', 'KH': '🇰🇭', 'Cambodia': '🇰🇭', 'KI': '🇰🇮', 'Kiribati': '🇰🇮',
        'KM': '🇰🇲', 'Comoros': '🇰🇲', 'KN': '🇰🇳', 'Saint Kitts and Nevis': '🇰🇳', 'KP': '🇰🇵', "Korea, Democratic People's Republic of": '🇰🇵',
        'KR': '🇰🇷', 'Korea, Republic of': '🇰🇷', 
        'KW': '🇰🇼', 'Kuwait': '🇰🇼', 'KY': '🇰🇾', 'Cayman Islands': '🇰🇾',
        'KZ': '🇰🇿', 'Kazakhstan': '🇰🇿', 'LA': '🇱🇦', "Lao People's Democratic Republic": '🇱🇦', 'LB': '🇱🇧', 'Lebanon': '🇱🇧',
        'LC': '🇱🇨', 'Saint Lucia': '🇱🇨', 'LI': '🇱🇮', 'Liechtenstein': '🇱🇮', 'LK': '🇱🇰', 'Sri Lanka': '🇱🇰',
        'LR': '🇱🇷', 'Liberia': '🇱🇷', 'LS': '🇱🇸', 'Lesotho': '🇱🇸', 'LT': '🇱🇹', 'Lithuania': '🇱🇹',
        'LU': '🇱🇺', 'Luxembourg': '🇱🇺', 'LV': '🇱🇻', 'Latvia': '🇱🇻', 'LY': '🇱🇾', 'Libya': '🇱🇾',
        'MA': '🇲🇦', 'Morocco': '🇲🇦', 'MC': '🇲🇨', 'Monaco': '🇲🇨', 'MD': '🇲🇩', 'Moldova, Republic of': '🇲🇩',
        'ME': '🇲🇪', 'Montenegro': '🇲🇪', 'MF': '🇲🇫', 'Saint Martin (French part)': '🇲🇫', 'MG': '🇲🇬', 'Madagascar': '🇲🇬',
        'MH': '🇲🇭', 'Marshall Islands': '🇲🇭', 'MK': '🇲🇰', 'North Macedonia': '🇲🇰', 'ML': '🇲🇱', 'Mali': '🇲🇱',
        'MM': '🇲🇲', 'Myanmar': '🇲🇲', 'MN': '🇲🇳', 'Mongolia': '🇲🇳', 'MO': '🇲🇴', 'Macao': '🇲🇴',
        'MP': '🇲🇵', 'Northern Mariana Islands': '🇲🇵', 'MQ': '🇲🇶', 'Martinique': '🇲🇶', 'MR': '🇲🇷', 'Mauritania': '🇲🇷',
        'MS': '🇲🇸', 'Montserrat': '🇲🇸', 'MT': '🇲🇹', 'Malta': '🇲🇹', 'MU': '🇲🇺', 'Mauritius': '🇲🇺',
        'MV': '🇲🇻', 'Maldives': '🇲🇻', 'MW': '🇲🇼', 'Malawi': '🇲🇼', 'MX': '🇲🇽', 'Mexico': '🇲🇽',
        'MY': '🇲🇾', 'Malaysia': '🇲🇾', 'MZ': '🇲🇿', 'Mozambique': '🇲🇿', 'NA': '🇳🇦', 'Namibia': '🇳🇦',
        'NC': '🇳🇨', 'New Caledonia': '🇳🇨', 'NE': '🇳🇪', 'Niger': '🇳🇪', 'NF': '🇳🇫', 'Norfolk Island': '🇳🇫',
        'NG': '🇳🇬', 'Nigeria': '🇳🇬', 'NI': '🇳🇮', 'Nicaragua': '🇳🇮', 'NL': '🇳🇱', 'Netherlands': '🇳🇱',
        'NO': '🇳🇴', 'Norway': '🇳🇴', 'NP': '🇳🇵', 'Nepal': '🇳🇵', 'NR': '🇳🇷', 'Nauru': '🇳🇷',
        'NU': '🇳🇺', 'Niue': '🇳🇺', 'NZ': '🇳🇿', 'New Zealand': '🇳🇿', 'OM': '🇴🇲', 'Oman': '🇴🇲',
        'PA': '🇵🇦', 'Panama': '🇵🇦', 'PE': '🇵🇪', 'Peru': '🇵🇪', 'PF': '🇵🇫', 'French Polynesia': '🇵🇫',
        'PG': '🇵🇬', 'Papua New Guinea': '🇵🇬', 'PH': '🇵🇭', 'Philippines': '🇵🇭', 'PK': '🇵🇰', 'Pakistan': '🇵🇰',
        'PL': '🇵🇱', 'Poland': '🇵🇱', 'PM': '🇵🇲', 'Saint Pierre and Miquelon': '🇵🇲', 'PN': '🇵🇳', 'Pitcairn': '🇵🇳',
        'PR': '🇵🇷', 'Puerto Rico': '🇵🇷', 'PS': '🇵🇸', 'Palestine, State of': '🇵🇸', 'PT': '🇵🇹', 'Portugal': '🇵🇹',
        'PW': '🇵🇼', 'Palau': '🇵🇼', 'PY': '🇵🇾', 'Paraguay': '🇵🇾', 'QA': '🇶🇦', 'Qatar': '🇶🇦',
        'RE': '🇷🇪', 'Réunion': '🇷🇪', 'RO': '🇷🇴', 'Romania': '🇷🇴', 'RS': '🇷🇸', 'Serbia': '🇷🇸',
        'RU': '🇷🇺', 'Russian Federation': '🇷🇺', 'Russia': '🇷🇺', 'RW': '🇷🇼', 'Rwanda': '🇷🇼', 'SA': '🇸🇦', 'Saudi Arabia': '🇸🇦',
        'SB': '🇸🇧', 'Solomon Islands': '🇸🇧', 'SC': '🇸🇨', 'Seychelles': '🇸🇨', 'SD': '🇸🇩', 'Sudan': '🇸🇩',
        'SE': '🇸🇪', 'Sweden': '🇸🇪', 'SG': '🇸🇬', 'Singapore': '🇸🇬', 'SH': '🇸🇭', 'Saint Helena, Ascension and Tristan da Cunha': '🇸🇭',
        'SI': '🇸🇮', 'Slovenia': '🇸🇮', 'SJ': '🇸🇯', 'Svalbard and Jan Mayen': '🇸🇯', 'SK': '🇸🇰', 'Slovakia': '🇸🇰',
        'SL': '🇸🇱', 'Sierra Leone': '🇸🇱', 'SM': '🇸🇲', 'San Marino': '🇸🇲', 'SN': '🇸🇳', 'Senegal': '🇸🇳',
        'SO': '🇸🇴', 'Somalia': '🇸🇴', 'SR': '🇸🇷', 'Suriname': '🇸🇷', 'SS': '🇸🇸', 'South Sudan': '🇸🇸',
        'ST': '🇸🇹', 'Sao Tome and Principe': '🇸🇹', 'SV': '🇸🇻', 'El Salvador': '🇸🇻', 'SX': '🇸🇽', 'Sint Maarten (Dutch part)': '🇸🇽',
        'SY': '🇸🇾', 'Syrian Arab Republic': '🇸🇾', 'SZ': '🇸🇿', 'Eswatini': '🇸🇿', 'TC': '🇹🇨', 'Turks and Caicos Islands': '🇹🇨',
        'TD': '🇹🇩', 'Chad': '🇹🇩', 'TF': '🇹🇫', 'French Southern Territories': '🇹🇫', 'TG': '🇹🇬', 'Togo': '🇹🇬',
        'TH': '🇹🇭', 'Thailand': '🇹🇭', 'TJ': '🇹🇯', 'Tajikistan': '🇹🇯', 'TK': '🇹🇰', 'Tokelau': '🇹🇰',
        'TL': '🇹🇱', 'Timor-Leste': '🇹🇱', 'TM': '🇹🇲', 'Turkmenistan': '🇹🇲', 'TN': '🇹🇳', 'Tunisia': '🇹🇳',
        'TO': '🇹🇴', 'Tonga': '🇹🇴', 'TR': '🇹🇷', 'Turkey': '🇹🇷', 'TT': '🇹🇹', 'Trinidad and Tobago': '🇹🇹',
        'TV': '🇹🇻', 'Tuvalu': '🇹🇻', 'TW': '🇹🇼', 'Taiwan, Province of China': '🇹🇼', 'TZ': '🇹🇿', 'Tanzania, United Republic of': '🇹🇿',
        'UA': '🇺🇦', 'Ukraine': '🇺🇦', 'UG': '🇺🇬', 'Uganda': '🇺🇬', 'UM': '🇺🇲', 'United States Minor Outlying Islands': '🇺🇲',
        'US': '🇺🇸', 'United States of America': '🇺🇸', 'USA': '🇺🇸', 'UY': '🇺🇾', 'Uruguay': '🇺🇾', 'UZ': '🇺🇿', 'Uzbekistan': '🇺🇿',
        'VA': '🇻🇦', 'Holy See (Vatican City State)': '🇻🇦', 'VC': '🇻🇨', 'Saint Vincent and the Grenadines': '🇻🇨', 'VE': '🇻🇪', 'Venezuela, Bolivarian Republic of': '🇻🇪',
        'VG': '🇻🇬', 'Virgin Islands, British': '🇻🇬', 'VI': '🇻🇮', 'Virgin Islands, U.S.': '🇻🇮', 'VN': '🇻🇳', 'Viet Nam': '🇻🇳',
        'VU': '🇻🇺', 'Vanuatu': '🇻🇺', 'WF': '🇼🇫', 'Wallis and Futuna': '🇼🇫', 'WS': '🇼🇸', 'Samoa': '🇼🇸',
        'XK': '🇽🇰', 'Kosovo': '🇽🇰', 'YE': '🇾🇪', 'Yemen': '🇾🇪', 'YT': '🇾🇹', 'Mayotte': '🇾🇹',
        'ZA': '🇿🇦', 'South Africa': '🇿🇦', 'ZM': '🇿🇲', 'Zambia': '🇿🇲', 'ZW': '🇿🇼', 'Zimbabwe': '🇿🇼'
      };
      
      if (!country) return '🌐'; 
      const normalizedCountry = String(country).trim(); 
      
      for (const key in flagMap) {
        if (key.toLowerCase() === normalizedCountry.toLowerCase()) {
          return flagMap[key];
        }
      }
      for (const key in flagMap) {
        if (key.length > 3 && normalizedCountry.toLowerCase().includes(key.toLowerCase())) { 
          return flagMap[key];
        }
      }
      return '🌐'; 
    }

    // ===== TIKTOK USER LOOKUP FUNCTIONALITY ===== //
    const getResultsBtn = document.getElementById('getResultsBtn');
    const supportBtn = document.getElementById('supportBtn');

    if (getResultsBtn) {
        getResultsBtn.addEventListener('click', lookupUser);
    }
    if (supportBtn) {
        supportBtn.addEventListener('click', function() {
          window.open('https://ko-fi.com/moroccan', '_blank'); 
        });
    }

    function lookupUser() {
      const usernameInput = document.getElementById('username');
      const resultDiv = document.getElementById('result');
      const currentGetResultsBtn = document.getElementById('getResultsBtn'); 

      const username = usernameInput ? usernameInput.value.trim() : '';
      
      if (!username) {
        if(resultDiv) {
            resultDiv.innerHTML = '<div class="message error-message">Please enter a valid TikTok username.</div>';
            resultDiv.style.display = 'block';
        }
        return;
      }

      if(currentGetResultsBtn) currentGetResultsBtn.disabled = true;
      if(resultDiv) {
          resultDiv.innerHTML = '<div class="loading-spinner-container"><div class="loading-spinner"></div> Loading profile data...</div>';
          resultDiv.style.display = 'block';
      }
      
      const apiUrl = `https://corsproxy.io/?https://jaefu3p97g.execute-api.us-east-1.amazonaws.com/default/smttab?username=${encodeURIComponent(username)}`;
      console.log("Attempting to fetch data from:", apiUrl);

      fetch(apiUrl)
        .then(response => {
          console.log("Received response status:", response.status);
          if (!response.ok) {
            return response.text().then(text => { 
                let errorMsg = `API request failed with status ${response.status}`;
                if (response.status === 429) errorMsg = 'Rate limit exceeded. Please try again later.';
                else if (response.status === 404) errorMsg = 'User not found or API endpoint issue.';
                else {
                    try { 
                        const errData = JSON.parse(text);
                        errorMsg = errData.message || errData.error || text || errorMsg;
                    } catch (e) { 
                        errorMsg = text || errorMsg;
                    }
                }
                console.error("API Error:", errorMsg, "Raw text:", text);
                throw new Error(errorMsg);
            });
          }
          return response.json();
        })
        .then(data => {
          console.log("Full API Response Data:", JSON.stringify(data, null, 2)); 
          
          const apiProfile = data.profile; 

          if (apiProfile && typeof apiProfile === 'object') { 
            const sanitize = (str) => {
                if (typeof str !== 'string') return str; 
                const temp = document.createElement('div');
                temp.textContent = str;
                return temp.innerHTML; 
            };

            let foundProfilePhotoUrl = '';
            const avatarKeys = ['Profile Photo', 'Avatar URL', 'avatar_url', 'avatarUrl', 'picture', 'profileImageUrl', 'profile_pic_url', 'profile_image_url', 'avatar', 'Avatar'];
            for (const key of avatarKeys) {
                if (apiProfile[key] && typeof apiProfile[key] === 'string' && apiProfile[key].trim() !== '') {
                    foundProfilePhotoUrl = apiProfile[key];
                    console.log(`Found avatar URL using key: ${key}`);
                    break; 
                }
            }
            const profilePhoto = foundProfilePhotoUrl ? sanitize(foundProfilePhotoUrl) : '';

            let rawUsernameFromAPI = apiProfile.Username || apiProfile.username || username; 
            if (typeof rawUsernameFromAPI === 'string' && rawUsernameFromAPI.startsWith('@')) {
                rawUsernameFromAPI = rawUsernameFromAPI.substring(1);
            }
            const displayUsername = sanitize(rawUsernameFromAPI);
            const displayNickname = apiProfile.Nickname || apiProfile.nickname || apiProfile.name || displayUsername;


            let profileDetailsHtml = '';
            for (const key in apiProfile) {
                if (Object.hasOwnProperty.call(apiProfile, key)) {
                    if (['Nickname', 'nickname', 'Username', 'username', 'name', ...avatarKeys].includes(key) || apiProfile[key] == null) {
                        continue;
                    }

                    let valueFromApi = apiProfile[key];
                    let displayKey = key.replace(/([A-Z])/g, ' $1').replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase()).trim();

                    if (['Bio', 'bio', 'description', 'Signature'].includes(key)) {
                        const bioText = sanitize(String(valueFromApi)).replace(/\n/g, '<br>');
                         profileDetailsHtml += `
                        <div class="profile-info-row bio-row">
                          <span class="info-label">${sanitize(displayKey)}:</span>
                          <p class="info-value bio-text">${bioText}</p>
                        </div>`;
                    } else if (['Country', 'country', 'region', 'Location'].includes(key)) {
                        let countryApiValue = sanitize(String(valueFromApi));
                        let flag = getCountryFlag(countryApiValue);
                        let displayCountryName = countryApiValue;

                        // If the flag is for the USA, ensure the display name is "United States"
                        if (flag === '🇺🇸') {
                            displayCountryName = 'United States';
                        }
                        
                        profileDetailsHtml += `
                        <div class="profile-info-row">
                          <span class="info-label">${sanitize(displayKey)}:</span>
                          <span class="info-value">${flag} ${sanitize(displayCountryName)}</span>
                        </div>`;
                    } else if (typeof valueFromApi === 'number' && (key.toLowerCase().includes('follower') || key.toLowerCase().includes('following') || key.toLowerCase().includes('like') || key.toLowerCase().includes('video') || key.toLowerCase().includes('count'))) {
                        const numericValue = Number(valueFromApi).toLocaleString();
                         profileDetailsHtml += `
                        <div class="profile-info-row">
                          <span class="info-label">${sanitize(displayKey)}:</span>
                          <span class="info-value">${numericValue}</span>
                        </div>`;
                    } else if (typeof valueFromApi === 'boolean') {
                        const booleanValue = valueFromApi ? 'Yes' : 'No';
                         profileDetailsHtml += `
                        <div class="profile-info-row">
                          <span class="info-label">${sanitize(displayKey)}:</span>
                          <span class="info-value">${booleanValue}</span>
                        </div>`;
                    }
                    else {
                         profileDetailsHtml += `
                        <div class="profile-info-row">
                          <span class="info-label">${sanitize(displayKey)}:</span>
                          <span class="info-value">${sanitize(String(valueFromApi))}</span>
                        </div>`;
                    }
                }
            }

            let formattedData = `
              <article class="profile-card" aria-labelledby="profile-card-heading-${displayUsername}"> <h2 id="profile-card-heading-${displayUsername}" class="sr-only">Profile details for ${sanitize(displayNickname)}</h2> <div class="profile-card-header">
                  ${profilePhoto ? `<img src="${profilePhoto}" alt="Profile photo of ${sanitize(displayNickname)}" class="profile-photo-enhanced" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">` : ''} <div class="profile-photo-placeholder" style="${profilePhoto ? 'display:none;' : 'display:flex;'}">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                  </div>
                  <div class="profile-identity">
                    <h3 class="profile-nickname">${sanitize(displayNickname)}</h3>
                    <p class="profile-username-display">@${displayUsername}</p> 
                  </div>
                </div>
                <div class="profile-card-body">
                  ${profileDetailsHtml}
                </div>
                <div class="profile-card-footer">
                  <span class="message success-message">Profile data retrieved successfully!</span>
                </div>
              </article>
            `;
            if(resultDiv) resultDiv.innerHTML = formattedData;
          } else {
            console.warn("Profile data ('data.profile') is missing or not an object in the API response.", "Received data:", data);
            if(resultDiv) resultDiv.innerHTML = '<div class="message error-message">Profile data not found or is incomplete. The API might be down, the user may not exist, or the response format is unexpected.</div>';
          }
        })
        .catch(error => {
          console.error("Fetch or processing error:", error);
          if(resultDiv) resultDiv.innerHTML = `<div class="message error-message">Error: ${error.message || 'Failed to fetch profile data'}. Please check the username and try again. The API service might be temporarily unavailable.</div>`;
        })
        .finally(() => {
          if(currentGetResultsBtn) currentGetResultsBtn.disabled = false; 
        });
    }

    const usernameInputGlobal = document.getElementById('username'); 
    if (usernameInputGlobal) {
      usernameInputGlobal.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          e.preventDefault(); 
          lookupUser();
        }
      });
    }

    const srOnlyStyle = document.createElement('style');
    srOnlyStyle.textContent = `
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }
    `;
    document.head.appendChild(srOnlyStyle);

  </script>
</body>
</html>
